{
  "published": true,
  "title": "React设计原理",
  "description": "本文基于React18，介绍了当前主流前端框架的实现原理，以及React的设计理念和实现原理。",
  "date": "2023-03-15T00:00:00.000Z",
  "hot": true,
  "body": {
    "raw": "\r\n## 前端框架概览\r\n\r\n### 初识前端框架\r\n\r\n> 鲁迅曾经说过，现代所有前端框架的实现原理可以概括为一个公式：\r\n> UI = f(state)\r\n\r\n关于公式：\r\n\r\n- state 代表试图所用的数据状态\r\n- f 代表框架的运行机制\r\n- UI 代表特定环境的视图\r\n\r\n#### 描述 UI\r\n\r\n前端领域描述 UI 有两种主流方案\r\n\r\n1. Meta 家的 JSX\r\n2. 由后端发展而来的模版语言\r\n\r\nJSX 作为 ECMAsript 的增强语法糖，在书写 Html 元素相关属性和操作时，需要关注一些差异性书写方式，如`class`要书写为`className`。其灵活性带来的缺陷也是模版语言的优势：无法提前做编译静态分析\r\n\r\n模版语言是使用如`Mustache`等解析库，将模版插值进行替换的一种描述前端 UI 的语言。需要关注一些特定实现的插值书写方式,如`Vue`中的`v-bind`。因为模版变化有很高预测性，可以静态分析优化性能。其最大缺陷就是**模版与上下文割裂**，灵活性也受到框架提供的插值 Api 的影响。\r\n\r\n#### 组织 UI 与逻辑\r\n\r\n1. Vue2.x 的定制化发布订阅模式\r\n2. React Hooks、Vue Composition、Svelte、SolidJS 的副作用模式\r\n\r\n定制化和副作用模式根本逻辑是相同的。`逻辑或元素`读取值时收集当前读取的对象，然后变化发生时通知收集的对象。\r\n\r\n设计思想有些许不同：\r\n\r\nVue2.x 中的`Dep`和`Watcher`,相互引用记录对方，何时收集何时通知，嵌套和连环关联如何管理，并没有很好的心智模型。\r\n\r\n副作用模式中我们只用关心**自变量**和**因变量**，自变量变化导致因变量变化。\r\n考虑如下公式：\r\n\r\n〉2x +1 = y\r\n\r\nx 的变化会导致 y 的变化，因此 x 被称为自变量，y 被称为因变量。\r\n\r\n自变量发生变化，会导致**使用或依赖**它的因变量变化。在前端框架中，因变量有两种：\r\n\r\n1. 无副作用因变量；\r\n2. 有副作用因变量；\r\n   那么**副作用**又是什么呢？\r\n\r\n**副作用**时函数式编程中提出的概念。指会**函数执行过程中对外部环境的影响**。如果一个函数没有副作用，那么这个函数为**纯函数**：\r\n\r\n1. 相同输入始终获得相同的输出\r\n2. 不过修改程序状态或者引起副作用\r\n   举个栗子：\r\n\r\n```javascript\r\n// 纯函数\r\nfunction sum(n) {\r\n  return 2n\r\n}\r\n// 非纯函数\r\nfunction sumRandom(x) {\r\n  return x + Math.random()\r\n}\r\n\r\n// 非纯函数\r\nfunction calc(n) {\r\n  document.title = n // 副作用\r\n  localStorage.set('calc', n) // 副作用\r\n  return 2n\r\n}\r\n```\r\n\r\n除了修改函数外部变量外，调用 DOM API、I/O 操作、控制台打印信息等“函数运行过程中，外部可观察的变化”都属于副作用。\r\n\r\n因为因变量不需要赋值，其值由自变量变化而自动变化。因此无副作用的因变量应定义为纯函数。\r\n\r\n举个栗子：\r\n\r\n```javascript\r\n// vue composition 无副作用因变量\r\nconst x = ref(0)\r\nconst val = computed(() => x.value + 1)\r\n// vue composition 有副作用因变量\r\nwatchEffect(() => (document.title = x.value))\r\n// react hooks 无副作用因变量\r\nconst [x, setX] = useState(0)\r\nconst y = useMemo(() => x + 1, [x])\r\n// react hooks 有副作用因变量\r\nuseEffect(() => (document.title = x), [x])\r\n```\r\n\r\n那么如何组织逻辑与 UI 呢？\r\n\r\n当自变量发生变化，如果 UI 中使用了因变量，那么 UI 中的内容也会发生变化。\r\n\r\n举个栗子：\r\n\r\n```jsx\r\n// 自变量引起变化\r\nfunction Counter() {\r\n  const [num, setNum] = useState(0)\r\n  return <p onClick={() => setNum(num + 1)}>点击次数：{num}</p>\r\n}\r\n```\r\n\r\n当我们点击了文本，点击次数会让自变量加 1，并即时更新到 UI。**逻辑中的自变量变化会导致 UI 变化**\r\n\r\n```jsx\r\n// 无副作用因变量引起变化\r\nfunction Counter() {\r\n  const [num, setNum] = useState(0)\r\n  const fixed = useMemo(() => num.toFixed(2), [num])\r\n  return <p onClick={() => setNum(num + 1)}>点击次数：{fixed}</p>\r\n}\r\n```\r\n\r\n当我们点击文本，点击次数让因变量发生了变化，视图也即时更新了。**逻辑中的变化，导致无副作用因变量发生变化，进而导致 UI 变化**\r\n\r\n```jsx\r\nfunction Counter() {\r\n  const [num, setNum] = useState(0)\r\n  useEffect(() => {\r\n    console.log('点击次数：', num)\r\n  }, [num])\r\n  return <p onClick={() => setNum(num + 1)}>点击次数：{num}</p>\r\n}\r\n```\r\n\r\n当我们点击一次文本，视图变化的同时，控制台输出了`点击次数：1`，并且每次点击视图和控制台输出的变化是一致的。。**逻辑中的变化，导致有副作用因变量发生变化，进而导致副作用**\r\n\r\n#### 如何在组件之前传输数据\r\n\r\n加入我们有如下函数组件：\r\n\r\n```jsx\r\nfunction Counter({ value }) {\r\n  return <p>{{ value }}</p>\r\n}\r\n```\r\n\r\n在 React 中有两种方式： 1.通过`props`传递，如`<Counter value={10} />`，在`Counter`组件中，函数参数中可以解构出传递的`value`,组件会渲染出**值为 10 的文本标签** 2.通过`store`传递，`store`的本质也是自变量。它能实现跨层级传递。\r\n\r\n> 在`React`中，有多种`store`方案，但`store`的定义都需要遵循三个步骤：\r\n>\r\n> 1.在顶级组件中调用`React.createContext`创建`context`\r\n>\r\n> 2.在顶级组件中定义`context.provider`\r\n>\r\n> 3.在子孙组件中通过`useContext`消费顶级组件传过来的自变量\r\n\r\n#### 框架的分类\r\n\r\n回顾鲁迅说的 UI 公式：UI=f(state)\r\n\r\n`state`的本质就是自变量，自变量变化导致`UI`变化，单框架中此处的`UI`并非一定就是宿主环境的真实 UI，也许是诸如`vNode`之类的对宿主环境的描述。\r\n\r\n所以前端框架的工作原理分为两步：\r\n\r\n1. 根据公示计算出最新的对宿主环境的 UI 描述\r\n2. 根据新的 UI 描述和变化，执行真实宿主环境的更新视图 API\r\n   在浏览器环境，更新视图的 API，主要是 DOM 提供的 API，有`Node.appendChild`、`Node.removeChild`等等\r\n\r\n通过对描述和更新粒度的归类，前端框架可以分为三类：\r\n\r\n1. 应用级框架，如`React`，状态变化会导致应用从顶至下对比 UI 的描述变化\r\n2. 组件级框架，如`Vue`，状态变化会导致组件对比 UI 的描述变化\r\n3. 元素级框架，如`Sevlet`和`Solid`，状态变化会导致元素描述的变化\r\n\r\n#### React 中的自变量与因变量\r\n\r\n将`React Hooks`分类如下：\r\n\r\n- `useState`: 定义组件内部的自变量\r\n- `useReducer`: `useState`本质是内置`reducer`的`useReducer`。如果将`useReducer`看作**借鉴 Redux 理念的 useState**，也相当于组件内部定义的自变量。\r\n- `useContext`: `React`中`store`的实现，用于夸层级将其他组件的自变量传递给当前组件。\r\n- `useMemo`: 采用缓存的方式定义组件内部无副作用因变量\r\n- `useCallback`: 采用缓存的方式定义组件内部无副作用因变量，缓存值为**函数**\r\n- `useEffect`和`useLayoutEffect`: 定义组件内部有副作用因变量\r\n- `useRef`: 自定义执行有副作用的操作\r\n\r\n### 主流前端框架使用的技术\r\n\r\n#### 关于细粒度更新\r\n\r\n在`React`中定义因变量需要显示指明**因变量依赖的自变量**，然而在`Vue`、`Mobx`中并不需要显示的指明。\r\n\r\n举个栗子感受一下：\r\n\r\n```javascript\r\n// React Hook\r\nconst y = useMemo(() => x * 2, [x])\r\n// Vue Composition\r\nconst y = computed(() => x.value * 2)\r\n// Mobx\r\nconst y = computed(() => x.data * 2)\r\n```\r\n\r\n可以发现`Vue`和`Mobx`中使用的能够自动追踪依赖的技术，被称为**细粒度更新**，它同时也是许多前端建立**自变量变化到 UI 变化**的底层原理\r\n由`KnockoutJS`在 2010 年初采用，并称为**响应式更新**\r\n\r\n---\r\n\r\n下面实现一个**细粒度更新**。**下列的`React Hook` API 均为`Fake`API。**\r\n\r\n基础框架：\r\n\r\n```javascript\r\nfunction useState(value) {\r\n  const getter = () => value // 与React不同，这里并不是直接返回value，用于后续订阅副作用\r\n  const setter = (newValue) => (value = newValue)\r\n\r\n  return [getter, setter]\r\n}\r\n```\r\n\r\n接下来实现**有副作用因变量**———fake`useEffect`,期望的行为是：\r\n\r\n1. `useEffect`执行后，回调函数立即执行\r\n2. 依赖的自变量变化后，毁掉函数立即执行\r\n3. 不需要显示指明依赖\r\n\r\n建立`useState`和`useEffect`的发布订阅关系：\r\n\r\n1. 在`useEffect`回调中执行`useState`的`getter`时，该`effect`会订阅“该 state 的变化”，收集依赖\r\n2. `useState`的`setter`在执行时，会向所有订阅了该`state`变化的`effect`发布通知，通知依赖\r\n   ![effect和state的关系](https://static.wissbell.com/wissbell/photos/fake-relative.png?imageMogr2/format/webp)\r\n   定义`effect`\r\n\r\n```javascript\r\nconst effect = {\r\n  execute, // 用于执行useEffect回调函数\r\n  deps: new Set(), // 保存该useEffect依赖的state对应subs的集合\r\n}\r\n```\r\n\r\n通过遍历`state.subs`，可以找到所有“订阅该 state 变化的 effect”。通过遍历`effct.deps`,可以找到所有“该 effect 依赖的 state.subs”.\r\n\r\n实现如下：\r\n\r\n```javascript\r\nfunction useEffect(callback) {\r\n  const execute = () => {\r\n    cleanup(effect) // 重置依赖\r\n    effectStack.push(effect)\r\n\r\n    try {\r\n      callback()\r\n    } finally {\r\n      effectStack.pop() // 执行完毕，effect出栈\r\n    }\r\n\r\n    const effect = {\r\n      execute,\r\n      deps: new Set(),\r\n    }\r\n\r\n    execute() // 立刻执行一次，建立发布订阅关系\r\n  }\r\n}\r\n```\r\n\r\n关于细节：\r\n\r\n1. `callback`执行前调用`cleanup`清除所有与该`effect`相关的订阅发布关系（重新建立订阅发布关系）\r\n2. `callback`执行前将当前`effect`保存在`effectStack`栈顶，方便处理当前所处的`effect`上下文\r\n3. 最后，在`useEffect`执行后，会执行`execute`，建立订阅发布关系。自动收集依赖才能生效\r\n\r\n关于为什么要执行`cleanup`?\r\n\r\n举个栗子：\r\n\r\n```javascript\r\nconst [name1, setName1] = useState('k')\r\nconst [name2, setName2] = useState('w')\r\nconst [showAll, setShowAll] = useState(true)\r\n\r\nconst display = useMemo(() => {\r\n  if (!showAll) {\r\n    return name1()\r\n  }\r\n  return `${name1()}和${name2()}`\r\n})\r\n\r\nuseEffect(() => {\r\n  console.log(display())\r\n})\r\n```\r\n\r\n如果执行了`setShowAll(false)`，那么代码逻辑就不会走到`name2()`,这样一来`display`和`name2`就没有发布订阅关系。\r\n只有当`stShowAll(true)`被执行后，`display`才会重新依赖`name1`和`name2`。\r\n\r\n修改`useState`，完成订阅与发布的逻辑\r\n\r\n```javascript\r\nfunction useState(value) {\r\n  const subs = new Set() // Set保证了不会添加重复数据\r\n\r\n  const getter = () => {\r\n    const effect = effectStack[effectStack.length - 1]\r\n    if (effect) {\r\n      subscribe(effect, subs) // 订阅\r\n    }\r\n    return value\r\n  }\r\n\r\n  const setter = (newValue) => {\r\n    value = newValue\r\n\r\n    for (const effect of [...subs]) {\r\n      effect.execute() //批量发布\r\n    }\r\n  }\r\n\r\n  return [getter, setter]\r\n}\r\n\r\nfunction subscribe(effect, subs) {\r\n  subs.add(effect)\r\n  effect.deps.add(subs)\r\n}\r\n```\r\n\r\n实现`useState`和`useEffect`之后，可以在此基础实现`useMemo`:\r\n\r\n```javascript\r\nfunction useMemo(callback){\r\n  const [s, set] = useState()\r\n  useEffect(()=>set(callback())\r\n  return s\r\n}\r\n```\r\n\r\n关于细粒度更新的实现完整代码如下：\r\n\r\n```javascript\r\n const effectStack = []\r\n\r\n function subscribe(effect, subs) {\r\n  subs.add(effect)\r\n  effet.deps.add(subs)\r\n }\r\n\r\n function cleanup(effect) {\r\n  for (const subs of effect.deps){\r\n    subs.delete(effect)\r\n  }\r\n  effect.deps.clear()\r\n }\r\n\r\nfunction useState(value){\r\n  const subs = new Set() // Set保证了不会添加重复数据\r\n\r\n  const getter =() =>{\r\n    const effect = effectStack[effectStack.length -1]\r\n    if(effect){\r\n      subscribe(effect,subs) // 订阅\r\n    }\r\n    return value\r\n  }\r\n\r\n  const setter = (newValue) =>{\r\n    value = newValue\r\n\r\n    for(const effect of [...subs]) {\r\n      effect.execute() //批量发布\r\n    }\r\n  }\r\n\r\n  return [getter, setter]\r\n}\r\n\r\nfunction useEffect(callback) {\r\n const execute = () => {\r\n  cleanup(effect) // 重置依赖\r\n  effectStack.push(effect)\r\n\r\n  try{\r\n    callback()\r\n  } finally {\r\n    effectStack.pop() // 执行完毕，effect出栈\r\n  }\r\n\r\n  const effect = {\r\n    execute,\r\n    deps: new Set()\r\n  }\r\n\r\n  execute() // 立刻执行一次，建立发布订阅关系\r\n }\r\n}\r\n\r\nfunction useMemo(callback){\r\n  const [s, set] = useState()\r\n  useEffect(()=>set(callback())\r\n  return s\r\n}\r\n```\r\n\r\n上述代码实现了**细粒度更新**版本的 React Hooks。相比原版 API。它有两个优点：\r\n\r\n1. 无需显式指明依赖\r\n2. 由于可以自动追踪依赖，因此不受**React Hooks 不能在条件语句中声明的限制**\r\n   既然如此，那么为什么`React Hooks`不采用细粒度更新呢？回顾框架分类，`React`属于应用级框架，\r\n   **关注自变量与应用的关系**，其更新粒度不需要很细。因此无须使用细粒度更新。作为代价，`React Hooks`在使用上则会有上述两个优点相对应的缺点。\r\n\r\n其次我们的 Fake API 与 React API 还有一个区别。`useState`第一个参数上一个函数，因此取值的时候需要调用。\r\n\r\nSolid.js 使用了我们实现的方式，`Vue2/3`中分别使用了对象存取描述符和 Proxy 封装了 getValue，隐藏了函数这一细节。\r\n\r\n#### AOT\r\n\r\n现代前端框架都需要**编译**这一步骤，编译可以选择两个时机执行：\r\n\r\n- 构建时，AOT\r\n- 代码在宿主环境执行时，JIT\r\n\r\nAOT 能在构建过程中进行分析，优化得到性能提升。JIT 提供快速的开发体验，但运行时会增加编译器代码\r\n\r\n虽然 React 属于 AOT，但由于 JSX 是 ES 的语法糖，ES 语句的高度灵活性，使其很难进行静态分析从而获得如 Vue 的静态分析优化。React 也尝试过使用新的 AOT 实现来优化 React 性能。`prepack`是一个可以自动生成等效于`useMemo`和`useCallback`代码的编译器。但项目已于 2019 年暂停。\r\n\r\n#### Virtual DOM\r\n\r\n前端框架可以从 AOT 中获得许多益处，AOT 可以减少根据自变量变化计算出 UI 变化的作用。Virtual Dom 作为一种 DOM UI 描述的主流技术，其原理概括为两个步骤：\r\n\r\n1. 将元素描述的 UI 转化为 VDOM 描述的 UI\r\n2. 对比前后 VDOM 描述的 UI，计算出变化的部分。\r\n\r\n在 Vue 中：\r\n\r\n1. render 函数执行后返回 VNode 描述的 UI，称为 render\r\n2. 将变化前后的 VNode 进行比较，计算出变化部分，称为 patch\r\n\r\n在 React 中：\r\n\r\n1. createElement 方法执行后返回的 React Element 描述的 UI\r\n2. 将 React Element 描述的 UI 与变化前 FiberNode 描述的 UI 进行比较，计算出变化部分，同时生成本次更新 FiberNode 描述的 UI\r\n\r\nVDOM 的优点：\r\n\r\n- 相较于 DOM 体积更小\r\n- 相较于 AOT 更强大的描述能力\r\n- 多平台渲染的抽象能力\r\n\r\n### 前端框架的实现原理\r\n\r\n简单介绍一下元素级、组件级、应用级框架的实现原理。\r\n\r\n#### Svelte\r\n\r\n```html\r\n<h1 on:click=\"{count++}\">{count}</h1>\r\n\r\n<script>\r\n  let count = 0\r\n</script>\r\n```\r\n\r\n组件编译后会生成：\r\n\r\n- c create 函数\r\n- m mount 函数\r\n- d detach 函数\r\n- p update 函数\r\n  编译后的代码如下：\r\n\r\n```javascript\r\nc() {\r\n h1 = element(\"h1\")\r\n t = text(/*count*/ ctx[0])\r\n}\r\nm(target,anchor) {\r\n  insert(target, h1, anchor)\r\n  append(h1, t)\r\n  dispose = listen(h1, \"click\", /*update*/ctx[1]) // 绑定⌚️\r\n}\r\np(new_ctx, [dirty]) {\r\n  ctx = new_ctx\r\n  if(dirty && /*count*/ 1) set_data(t0, /*count*/ ctx[0])\r\n}\r\nd(detaching) {\r\n  if(detaching) detach(h1)\r\n  despose() // 解绑事件\r\n}\r\n```\r\n\r\n1. click 执行回调函数 update\r\n2. update 内调用`$$invalidate`方法，更新 ctx 中的 ctx，标记 count 为 dirt，调度更新。\r\n3. 执行 p 方法，方法内 dirty 的项（count）对应的 if 语句会执行具体的 DOM 操作\r\n\r\n#### Vue3\r\n\r\n```html\r\n<script setup>\r\n  import { ref } from 'vue'\r\n  let count = ref(0)\r\n</script>\r\n\r\n<template>\r\n  <h1 @click=\"count++\">{{count}}</h1>\r\n  <p>不会变化</p>\r\n</template>\r\n```\r\n\r\nVue3 会为每个组件都建立自变量与 UI 的 watchEffect 关系，在 watchEffect 首次及后续依赖变化后执行如下步骤：\r\n\r\n1. 调用组件的 render 函数，生成组件对应 VNode\r\n2. render 函数返回本次更新的 VNode，与上一次更新的 VNode 同时传入 patch 方法。执行 VDOM 相关操作，找到本次自变量变化导致的元素变化，并执行最终的 DOM 操作\r\n   当点击事件导致 count 变化，Vue3 将执行订阅 count 变化的 effect 回调函数，重复上述两个步骤，完成 UI 渲染。总结为：\r\n\r\n- 自变量变化，对应 effect 回调函数执行\r\n- effect 回调函数执行，对应组件 UI 更新\r\n\r\nVue3 是如何通过 AOT 获得静态优化的？\r\n\r\n组件模版进行 patch 方法时，VNode 会一一对比元素：\r\n\r\n- h1 与 h1 比较\r\n- p 与 p 比较\r\n  通过观察发现，只有 h1 是可变的，其于的比较是无意义的。因此编译后的 render 函数：\r\n\r\n```javascript\r\n(_ctx, _cache) => {\r\n  return (_openBlock(), null, null,[\r\n    _createElementVNode(h1, null, _toDisplayString(_ctx.count), 1 /* TEXT */)\r\n    _createElementVNode(h1, null,\"不会变化\")\r\n  ])\r\n}\r\n```\r\n\r\nh1 所对应的\\_createElementVNode 函数第 4 个参数为 1，该参数被称为`PatchFlags`，代表 VNode 是可变的。如：\r\n\r\n- 1 代表可变 textContent\r\n- 2 代表 class 可变\r\n  render 函数执行后，标记为 patchFlag 的可变部分被提取到 dynamicChildren 中。\r\n\r\n当 patch 执行时，只需要遍历 dynamicChildren，而不需要遍历树结构中的所有 children。减少运行 patch 时对比 VDOM 的节点，实际的 patch 可能更复杂，比如需要考虑：\r\n\r\n- v-if、v-for 等条件语句生成的 VNode 不稳定\r\n- Fragment 造成的子节点不稳定\r\n\r\n#### React\r\n\r\n作为应用级框架，React 实现原理很简单：\r\n\r\n> react 实现原理\r\n> 事件触发-> reconcile -> commit\r\n> 按照步骤概括为：\r\n\r\n1. 触发事件，该变自变量，开启更新流程\r\n2. 执行 VDOM 相关操作，在 React 中称为 reconcile\r\n3. 根据步骤 2 计算出的需要变化的 UI 执行对应的 UI 操作，在 React 中称为 commit\r\n   React 被称为应用级框架的原因在于——其每次更新流程都是从应用的根节点开始，遍历整个应用，对比其他框架：\r\n\r\n- Vue3 的更新流程开始于组件\r\n- Svelte 的更新流程开始于元素\r\n\r\n基于这样的心智模型，React 无须确定哪个自变量发生了变化，因为任何自变量的变化都会开启一次从头到位的遍历应用更新流程。因此 React 不需要细粒度更新和 AOT\r\n\r\n因为每次更新都遍历应用，因此 React 性能优化的任务交到了开发者手中。而 Vue 中不存在如`React.memo`之类的 API，是因为组件级框架的定位和其模版 AOT 优化以及减少了大部分无意义的遍历对比过程。\r\n\r\n## React 理念\r\n\r\n### 问题与解决思路\r\n\r\n在 React 官网中，“React 哲学”一节提到，React 的理念是：\r\n\r\n> 我们认为，React 是用 Javascript 构建快速响应的大型 Web 应用的首选方式。它在 Facebook 和 Instagram 上表现优秀\r\n> 制约“快速响应”有两类场景：\r\n\r\n1. 当执行大量计算的操作或设备性能不足时，页面掉帧，导致卡顿，为 CPU 瓶颈\r\n2. 进行 I/O 操作后，需要等待数据返回才能继续操作，等待的过程导致不能快速响应，为 I/O 瓶颈\r\n\r\n为什么一段复杂 JS 代码会导致页面卡顿，这**与浏览器渲染与事件循环有关**\r\n\r\n#### 浏览器渲染\r\n\r\n#### 事件循环\r\n\r\n#### CPU 瓶颈\r\n\r\n#### I/O 瓶颈\r\n\r\n### React 架构演进\r\n\r\n#### 新旧架构介绍\r\n\r\n#### 主打特性的迭代\r\n\r\n#### 渐进升级策略的迭代\r\n\r\n### Fiber 架构\r\n\r\n### 调试 React 源码\r\n\r\n## render 阶段\r\n\r\n## commit 阶段\r\n\r\n## schedule 阶段\r\n\r\n## 状态更新流程\r\n\r\n## reconcile 流程\r\n\r\n## FC 与 Hooks 实现\r\n",
    "code": "var Component=(()=>{var t=Object.create;var r=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var m=(n,l)=>()=>(l||n((l={exports:{}}).exports,l),l.exports),u=(n,l)=>{for(var c in l)r(n,c,{get:l[c],enumerable:!0})},o=(n,l,c,a)=>{if(l&&typeof l==\"object\"||typeof l==\"function\")for(let s of p(l))!F.call(n,s)&&s!==c&&r(n,s,{get:()=>l[s],enumerable:!(a=E(l,s))||a.enumerable});return n};var N=(n,l,c)=>(c=n!=null?t(y(n)):{},o(l||!n||!n.__esModule?r(c,\"default\",{value:n,enumerable:!0}):c,n)),f=n=>o(r({},\"__esModule\",{value:!0}),n);var d=m((v,i)=>{i.exports=_jsx_runtime});var k={};u(k,{default:()=>b,frontmatter:()=>B});var e=N(d()),B={title:\"React\\u8BBE\\u8BA1\\u539F\\u7406\",description:\"\\u672C\\u6587\\u57FA\\u4E8EReact18\\uFF0C\\u4ECB\\u7ECD\\u4E86\\u5F53\\u524D\\u4E3B\\u6D41\\u524D\\u7AEF\\u6846\\u67B6\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\uFF0C\\u4EE5\\u53CAReact\\u7684\\u8BBE\\u8BA1\\u7406\\u5FF5\\u548C\\u5B9E\\u73B0\\u539F\\u7406\\u3002\",date:\"2023-03-15\",hot:!0,published:!0};function h(n){let l=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",h3:\"h3\",blockquote:\"blockquote\",p:\"p\",ul:\"ul\",li:\"li\",h4:\"h4\",ol:\"ol\",code:\"code\",strong:\"strong\",div:\"div\",pre:\"pre\",hr:\"hr\",img:\"img\"},n.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(l.h2,{id:\"\\u524D\\u7AEF\\u6846\\u67B6\\u6982\\u89C8\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u524D\\u7AEF\\u6846\\u67B6\\u6982\\u89C8\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u524D\\u7AEF\\u6846\\u67B6\\u6982\\u89C8\"]}),`\n`,(0,e.jsxs)(l.h3,{id:\"\\u521D\\u8BC6\\u524D\\u7AEF\\u6846\\u67B6\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u521D\\u8BC6\\u524D\\u7AEF\\u6846\\u67B6\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u521D\\u8BC6\\u524D\\u7AEF\\u6846\\u67B6\"]}),`\n`,(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsx)(l.p,{children:`\\u9C81\\u8FC5\\u66FE\\u7ECF\\u8BF4\\u8FC7\\uFF0C\\u73B0\\u4EE3\\u6240\\u6709\\u524D\\u7AEF\\u6846\\u67B6\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u53EF\\u4EE5\\u6982\\u62EC\\u4E3A\\u4E00\\u4E2A\\u516C\\u5F0F\\uFF1A\\r\nUI = f(state)`}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5173\\u4E8E\\u516C\\u5F0F\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"state \\u4EE3\\u8868\\u8BD5\\u56FE\\u6240\\u7528\\u7684\\u6570\\u636E\\u72B6\\u6001\"}),`\n`,(0,e.jsx)(l.li,{children:\"f \\u4EE3\\u8868\\u6846\\u67B6\\u7684\\u8FD0\\u884C\\u673A\\u5236\"}),`\n`,(0,e.jsx)(l.li,{children:\"UI \\u4EE3\\u8868\\u7279\\u5B9A\\u73AF\\u5883\\u7684\\u89C6\\u56FE\"}),`\n`]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u63CF\\u8FF0-ui\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u63CF\\u8FF0-ui\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u63CF\\u8FF0 UI\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u524D\\u7AEF\\u9886\\u57DF\\u63CF\\u8FF0 UI \\u6709\\u4E24\\u79CD\\u4E3B\\u6D41\\u65B9\\u6848\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"Meta \\u5BB6\\u7684 JSX\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u7531\\u540E\\u7AEF\\u53D1\\u5C55\\u800C\\u6765\\u7684\\u6A21\\u7248\\u8BED\\u8A00\"}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"JSX \\u4F5C\\u4E3A ECMAsript \\u7684\\u589E\\u5F3A\\u8BED\\u6CD5\\u7CD6\\uFF0C\\u5728\\u4E66\\u5199 Html \\u5143\\u7D20\\u76F8\\u5173\\u5C5E\\u6027\\u548C\\u64CD\\u4F5C\\u65F6\\uFF0C\\u9700\\u8981\\u5173\\u6CE8\\u4E00\\u4E9B\\u5DEE\\u5F02\\u6027\\u4E66\\u5199\\u65B9\\u5F0F\\uFF0C\\u5982\",(0,e.jsx)(l.code,{children:\"class\"}),\"\\u8981\\u4E66\\u5199\\u4E3A\",(0,e.jsx)(l.code,{children:\"className\"}),\"\\u3002\\u5176\\u7075\\u6D3B\\u6027\\u5E26\\u6765\\u7684\\u7F3A\\u9677\\u4E5F\\u662F\\u6A21\\u7248\\u8BED\\u8A00\\u7684\\u4F18\\u52BF\\uFF1A\\u65E0\\u6CD5\\u63D0\\u524D\\u505A\\u7F16\\u8BD1\\u9759\\u6001\\u5206\\u6790\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u6A21\\u7248\\u8BED\\u8A00\\u662F\\u4F7F\\u7528\\u5982\",(0,e.jsx)(l.code,{children:\"Mustache\"}),\"\\u7B49\\u89E3\\u6790\\u5E93\\uFF0C\\u5C06\\u6A21\\u7248\\u63D2\\u503C\\u8FDB\\u884C\\u66FF\\u6362\\u7684\\u4E00\\u79CD\\u63CF\\u8FF0\\u524D\\u7AEF UI \\u7684\\u8BED\\u8A00\\u3002\\u9700\\u8981\\u5173\\u6CE8\\u4E00\\u4E9B\\u7279\\u5B9A\\u5B9E\\u73B0\\u7684\\u63D2\\u503C\\u4E66\\u5199\\u65B9\\u5F0F,\\u5982\",(0,e.jsx)(l.code,{children:\"Vue\"}),\"\\u4E2D\\u7684\",(0,e.jsx)(l.code,{children:\"v-bind\"}),\"\\u3002\\u56E0\\u4E3A\\u6A21\\u7248\\u53D8\\u5316\\u6709\\u5F88\\u9AD8\\u9884\\u6D4B\\u6027\\uFF0C\\u53EF\\u4EE5\\u9759\\u6001\\u5206\\u6790\\u4F18\\u5316\\u6027\\u80FD\\u3002\\u5176\\u6700\\u5927\\u7F3A\\u9677\\u5C31\\u662F\",(0,e.jsx)(l.strong,{children:\"\\u6A21\\u7248\\u4E0E\\u4E0A\\u4E0B\\u6587\\u5272\\u88C2\"}),\"\\uFF0C\\u7075\\u6D3B\\u6027\\u4E5F\\u53D7\\u5230\\u6846\\u67B6\\u63D0\\u4F9B\\u7684\\u63D2\\u503C Api \\u7684\\u5F71\\u54CD\\u3002\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u7EC4\\u7EC7-ui-\\u4E0E\\u903B\\u8F91\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u7EC4\\u7EC7-ui-\\u4E0E\\u903B\\u8F91\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u7EC4\\u7EC7 UI \\u4E0E\\u903B\\u8F91\"]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"Vue2.x \\u7684\\u5B9A\\u5236\\u5316\\u53D1\\u5E03\\u8BA2\\u9605\\u6A21\\u5F0F\"}),`\n`,(0,e.jsx)(l.li,{children:\"React Hooks\\u3001Vue Composition\\u3001Svelte\\u3001SolidJS \\u7684\\u526F\\u4F5C\\u7528\\u6A21\\u5F0F\"}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5B9A\\u5236\\u5316\\u548C\\u526F\\u4F5C\\u7528\\u6A21\\u5F0F\\u6839\\u672C\\u903B\\u8F91\\u662F\\u76F8\\u540C\\u7684\\u3002\",(0,e.jsx)(l.code,{children:\"\\u903B\\u8F91\\u6216\\u5143\\u7D20\"}),\"\\u8BFB\\u53D6\\u503C\\u65F6\\u6536\\u96C6\\u5F53\\u524D\\u8BFB\\u53D6\\u7684\\u5BF9\\u8C61\\uFF0C\\u7136\\u540E\\u53D8\\u5316\\u53D1\\u751F\\u65F6\\u901A\\u77E5\\u6536\\u96C6\\u7684\\u5BF9\\u8C61\\u3002\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u8BBE\\u8BA1\\u601D\\u60F3\\u6709\\u4E9B\\u8BB8\\u4E0D\\u540C\\uFF1A\"}),`\n`,(0,e.jsxs)(l.p,{children:[\"Vue2.x \\u4E2D\\u7684\",(0,e.jsx)(l.code,{children:\"Dep\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"Watcher\"}),\",\\u76F8\\u4E92\\u5F15\\u7528\\u8BB0\\u5F55\\u5BF9\\u65B9\\uFF0C\\u4F55\\u65F6\\u6536\\u96C6\\u4F55\\u65F6\\u901A\\u77E5\\uFF0C\\u5D4C\\u5957\\u548C\\u8FDE\\u73AF\\u5173\\u8054\\u5982\\u4F55\\u7BA1\\u7406\\uFF0C\\u5E76\\u6CA1\\u6709\\u5F88\\u597D\\u7684\\u5FC3\\u667A\\u6A21\\u578B\\u3002\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u526F\\u4F5C\\u7528\\u6A21\\u5F0F\\u4E2D\\u6211\\u4EEC\\u53EA\\u7528\\u5173\\u5FC3\",(0,e.jsx)(l.strong,{children:\"\\u81EA\\u53D8\\u91CF\"}),\"\\u548C\",(0,e.jsx)(l.strong,{children:\"\\u56E0\\u53D8\\u91CF\"}),`\\uFF0C\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u5BFC\\u81F4\\u56E0\\u53D8\\u91CF\\u53D8\\u5316\\u3002\\r\n\\u8003\\u8651\\u5982\\u4E0B\\u516C\\u5F0F\\uFF1A`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u30092x +1 = y\"}),`\n`,(0,e.jsx)(l.p,{children:\"x \\u7684\\u53D8\\u5316\\u4F1A\\u5BFC\\u81F4 y \\u7684\\u53D8\\u5316\\uFF0C\\u56E0\\u6B64 x \\u88AB\\u79F0\\u4E3A\\u81EA\\u53D8\\u91CF\\uFF0Cy \\u88AB\\u79F0\\u4E3A\\u56E0\\u53D8\\u91CF\\u3002\"}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u81EA\\u53D8\\u91CF\\u53D1\\u751F\\u53D8\\u5316\\uFF0C\\u4F1A\\u5BFC\\u81F4\",(0,e.jsx)(l.strong,{children:\"\\u4F7F\\u7528\\u6216\\u4F9D\\u8D56\"}),\"\\u5B83\\u7684\\u56E0\\u53D8\\u91CF\\u53D8\\u5316\\u3002\\u5728\\u524D\\u7AEF\\u6846\\u67B6\\u4E2D\\uFF0C\\u56E0\\u53D8\\u91CF\\u6709\\u4E24\\u79CD\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u65E0\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\\uFF1B\"}),`\n`,(0,e.jsxs)(l.li,{children:[`\\u6709\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\\uFF1B\\r\n\\u90A3\\u4E48`,(0,e.jsx)(l.strong,{children:\"\\u526F\\u4F5C\\u7528\"}),\"\\u53C8\\u662F\\u4EC0\\u4E48\\u5462\\uFF1F\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.strong,{children:\"\\u526F\\u4F5C\\u7528\"}),\"\\u65F6\\u51FD\\u6570\\u5F0F\\u7F16\\u7A0B\\u4E2D\\u63D0\\u51FA\\u7684\\u6982\\u5FF5\\u3002\\u6307\\u4F1A\",(0,e.jsx)(l.strong,{children:\"\\u51FD\\u6570\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\u5BF9\\u5916\\u90E8\\u73AF\\u5883\\u7684\\u5F71\\u54CD\"}),\"\\u3002\\u5982\\u679C\\u4E00\\u4E2A\\u51FD\\u6570\\u6CA1\\u6709\\u526F\\u4F5C\\u7528\\uFF0C\\u90A3\\u4E48\\u8FD9\\u4E2A\\u51FD\\u6570\\u4E3A\",(0,e.jsx)(l.strong,{children:\"\\u7EAF\\u51FD\\u6570\"}),\"\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u76F8\\u540C\\u8F93\\u5165\\u59CB\\u7EC8\\u83B7\\u5F97\\u76F8\\u540C\\u7684\\u8F93\\u51FA\"}),`\n`,(0,e.jsx)(l.li,{children:`\\u4E0D\\u8FC7\\u4FEE\\u6539\\u7A0B\\u5E8F\\u72B6\\u6001\\u6216\\u8005\\u5F15\\u8D77\\u526F\\u4F5C\\u7528\\r\n\\u4E3E\\u4E2A\\u6817\\u5B50\\uFF1A`}),`\n`]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7EAF\\u51FD\\u6570\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"sum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"n\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"n\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u975E\\u7EAF\\u51FD\\u6570\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"sumRandom\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"x\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" Math.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"random\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u975E\\u7EAF\\u51FD\\u6570\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"calc\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"n\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  document.title \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" n \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u526F\\u4F5C\\u7528\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  localStorage.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'calc'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", n) \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u526F\\u4F5C\\u7528\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"n\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u9664\\u4E86\\u4FEE\\u6539\\u51FD\\u6570\\u5916\\u90E8\\u53D8\\u91CF\\u5916\\uFF0C\\u8C03\\u7528 DOM API\\u3001I/O \\u64CD\\u4F5C\\u3001\\u63A7\\u5236\\u53F0\\u6253\\u5370\\u4FE1\\u606F\\u7B49\\u201C\\u51FD\\u6570\\u8FD0\\u884C\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u5916\\u90E8\\u53EF\\u89C2\\u5BDF\\u7684\\u53D8\\u5316\\u201D\\u90FD\\u5C5E\\u4E8E\\u526F\\u4F5C\\u7528\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u56E0\\u4E3A\\u56E0\\u53D8\\u91CF\\u4E0D\\u9700\\u8981\\u8D4B\\u503C\\uFF0C\\u5176\\u503C\\u7531\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u800C\\u81EA\\u52A8\\u53D8\\u5316\\u3002\\u56E0\\u6B64\\u65E0\\u526F\\u4F5C\\u7528\\u7684\\u56E0\\u53D8\\u91CF\\u5E94\\u5B9A\\u4E49\\u4E3A\\u7EAF\\u51FD\\u6570\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4E3E\\u4E2A\\u6817\\u5B50\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// vue composition \\u65E0\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"x\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"val\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// vue composition \\u6709\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"watchEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (document.title \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x.value))\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// react hooks \\u65E0\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"x\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setX\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"y\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useMemo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", [x])\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// react hooks \\u6709\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (document.title \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x), [x])\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u90A3\\u4E48\\u5982\\u4F55\\u7EC4\\u7EC7\\u903B\\u8F91\\u4E0E UI \\u5462\\uFF1F\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5F53\\u81EA\\u53D8\\u91CF\\u53D1\\u751F\\u53D8\\u5316\\uFF0C\\u5982\\u679C UI \\u4E2D\\u4F7F\\u7528\\u4E86\\u56E0\\u53D8\\u91CF\\uFF0C\\u90A3\\u4E48 UI \\u4E2D\\u7684\\u5185\\u5BB9\\u4E5F\\u4F1A\\u53D1\\u751F\\u53D8\\u5316\\u3002\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4E3E\\u4E2A\\u6817\\u5B50\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u81EA\\u53D8\\u91CF\\u5F15\\u8D77\\u53D8\\u5316\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Counter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"num\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setNum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onClick\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setNum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(num \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")}>\\u70B9\\u51FB\\u6B21\\u6570\\uFF1A{num}</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5F53\\u6211\\u4EEC\\u70B9\\u51FB\\u4E86\\u6587\\u672C\\uFF0C\\u70B9\\u51FB\\u6B21\\u6570\\u4F1A\\u8BA9\\u81EA\\u53D8\\u91CF\\u52A0 1\\uFF0C\\u5E76\\u5373\\u65F6\\u66F4\\u65B0\\u5230 UI\\u3002\",(0,e.jsx)(l.strong,{children:\"\\u903B\\u8F91\\u4E2D\\u7684\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u4F1A\\u5BFC\\u81F4 UI \\u53D8\\u5316\"})]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u65E0\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\\u5F15\\u8D77\\u53D8\\u5316\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Counter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"num\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setNum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"fixed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useMemo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" num.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"toFixed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"), [num])\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onClick\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setNum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(num \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")}>\\u70B9\\u51FB\\u6B21\\u6570\\uFF1A{fixed}</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5F53\\u6211\\u4EEC\\u70B9\\u51FB\\u6587\\u672C\\uFF0C\\u70B9\\u51FB\\u6B21\\u6570\\u8BA9\\u56E0\\u53D8\\u91CF\\u53D1\\u751F\\u4E86\\u53D8\\u5316\\uFF0C\\u89C6\\u56FE\\u4E5F\\u5373\\u65F6\\u66F4\\u65B0\\u4E86\\u3002\",(0,e.jsx)(l.strong,{children:\"\\u903B\\u8F91\\u4E2D\\u7684\\u53D8\\u5316\\uFF0C\\u5BFC\\u81F4\\u65E0\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\\u53D1\\u751F\\u53D8\\u5316\\uFF0C\\u8FDB\\u800C\\u5BFC\\u81F4 UI \\u53D8\\u5316\"})]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Counter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"num\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setNum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'\\u70B9\\u51FB\\u6B21\\u6570\\uFF1A'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", num)\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }, [num])\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"onClick\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setNum\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(num \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"+\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")}>\\u70B9\\u51FB\\u6B21\\u6570\\uFF1A{num}</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5F53\\u6211\\u4EEC\\u70B9\\u51FB\\u4E00\\u6B21\\u6587\\u672C\\uFF0C\\u89C6\\u56FE\\u53D8\\u5316\\u7684\\u540C\\u65F6\\uFF0C\\u63A7\\u5236\\u53F0\\u8F93\\u51FA\\u4E86\",(0,e.jsx)(l.code,{children:\"\\u70B9\\u51FB\\u6B21\\u6570\\uFF1A1\"}),\"\\uFF0C\\u5E76\\u4E14\\u6BCF\\u6B21\\u70B9\\u51FB\\u89C6\\u56FE\\u548C\\u63A7\\u5236\\u53F0\\u8F93\\u51FA\\u7684\\u53D8\\u5316\\u662F\\u4E00\\u81F4\\u7684\\u3002\\u3002\",(0,e.jsx)(l.strong,{children:\"\\u903B\\u8F91\\u4E2D\\u7684\\u53D8\\u5316\\uFF0C\\u5BFC\\u81F4\\u6709\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\\u53D1\\u751F\\u53D8\\u5316\\uFF0C\\u8FDB\\u800C\\u5BFC\\u81F4\\u526F\\u4F5C\\u7528\"})]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u5982\\u4F55\\u5728\\u7EC4\\u4EF6\\u4E4B\\u524D\\u4F20\\u8F93\\u6570\\u636E\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u5982\\u4F55\\u5728\\u7EC4\\u4EF6\\u4E4B\\u524D\\u4F20\\u8F93\\u6570\\u636E\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u5982\\u4F55\\u5728\\u7EC4\\u4EF6\\u4E4B\\u524D\\u4F20\\u8F93\\u6570\\u636E\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u52A0\\u5165\\u6211\\u4EEC\\u6709\\u5982\\u4E0B\\u51FD\\u6570\\u7EC4\\u4EF6\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"jsx\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Counter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"({ \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">{{ value }}</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5728 React \\u4E2D\\u6709\\u4E24\\u79CD\\u65B9\\u5F0F\\uFF1A 1.\\u901A\\u8FC7\",(0,e.jsx)(l.code,{children:\"props\"}),\"\\u4F20\\u9012\\uFF0C\\u5982\",(0,e.jsx)(l.code,{children:\"<Counter value={10} />\"}),\"\\uFF0C\\u5728\",(0,e.jsx)(l.code,{children:\"Counter\"}),\"\\u7EC4\\u4EF6\\u4E2D\\uFF0C\\u51FD\\u6570\\u53C2\\u6570\\u4E2D\\u53EF\\u4EE5\\u89E3\\u6784\\u51FA\\u4F20\\u9012\\u7684\",(0,e.jsx)(l.code,{children:\"value\"}),\",\\u7EC4\\u4EF6\\u4F1A\\u6E32\\u67D3\\u51FA\",(0,e.jsx)(l.strong,{children:\"\\u503C\\u4E3A 10 \\u7684\\u6587\\u672C\\u6807\\u7B7E\"}),\" 2.\\u901A\\u8FC7\",(0,e.jsx)(l.code,{children:\"store\"}),\"\\u4F20\\u9012\\uFF0C\",(0,e.jsx)(l.code,{children:\"store\"}),\"\\u7684\\u672C\\u8D28\\u4E5F\\u662F\\u81EA\\u53D8\\u91CF\\u3002\\u5B83\\u80FD\\u5B9E\\u73B0\\u8DE8\\u5C42\\u7EA7\\u4F20\\u9012\\u3002\"]}),`\n`,(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5728\",(0,e.jsx)(l.code,{children:\"React\"}),\"\\u4E2D\\uFF0C\\u6709\\u591A\\u79CD\",(0,e.jsx)(l.code,{children:\"store\"}),\"\\u65B9\\u6848\\uFF0C\\u4F46\",(0,e.jsx)(l.code,{children:\"store\"}),\"\\u7684\\u5B9A\\u4E49\\u90FD\\u9700\\u8981\\u9075\\u5FAA\\u4E09\\u4E2A\\u6B65\\u9AA4\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"1.\\u5728\\u9876\\u7EA7\\u7EC4\\u4EF6\\u4E2D\\u8C03\\u7528\",(0,e.jsx)(l.code,{children:\"React.createContext\"}),\"\\u521B\\u5EFA\",(0,e.jsx)(l.code,{children:\"context\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"2.\\u5728\\u9876\\u7EA7\\u7EC4\\u4EF6\\u4E2D\\u5B9A\\u4E49\",(0,e.jsx)(l.code,{children:\"context.provider\"})]}),`\n`,(0,e.jsxs)(l.p,{children:[\"3.\\u5728\\u5B50\\u5B59\\u7EC4\\u4EF6\\u4E2D\\u901A\\u8FC7\",(0,e.jsx)(l.code,{children:\"useContext\"}),\"\\u6D88\\u8D39\\u9876\\u7EA7\\u7EC4\\u4EF6\\u4F20\\u8FC7\\u6765\\u7684\\u81EA\\u53D8\\u91CF\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u6846\\u67B6\\u7684\\u5206\\u7C7B\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u6846\\u67B6\\u7684\\u5206\\u7C7B\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6846\\u67B6\\u7684\\u5206\\u7C7B\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u56DE\\u987E\\u9C81\\u8FC5\\u8BF4\\u7684 UI \\u516C\\u5F0F\\uFF1AUI=f(state)\"}),`\n`,(0,e.jsxs)(l.p,{children:[(0,e.jsx)(l.code,{children:\"state\"}),\"\\u7684\\u672C\\u8D28\\u5C31\\u662F\\u81EA\\u53D8\\u91CF\\uFF0C\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u5BFC\\u81F4\",(0,e.jsx)(l.code,{children:\"UI\"}),\"\\u53D8\\u5316\\uFF0C\\u5355\\u6846\\u67B6\\u4E2D\\u6B64\\u5904\\u7684\",(0,e.jsx)(l.code,{children:\"UI\"}),\"\\u5E76\\u975E\\u4E00\\u5B9A\\u5C31\\u662F\\u5BBF\\u4E3B\\u73AF\\u5883\\u7684\\u771F\\u5B9E UI\\uFF0C\\u4E5F\\u8BB8\\u662F\\u8BF8\\u5982\",(0,e.jsx)(l.code,{children:\"vNode\"}),\"\\u4E4B\\u7C7B\\u7684\\u5BF9\\u5BBF\\u4E3B\\u73AF\\u5883\\u7684\\u63CF\\u8FF0\\u3002\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u6240\\u4EE5\\u524D\\u7AEF\\u6846\\u67B6\\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\u5206\\u4E3A\\u4E24\\u6B65\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u6839\\u636E\\u516C\\u793A\\u8BA1\\u7B97\\u51FA\\u6700\\u65B0\\u7684\\u5BF9\\u5BBF\\u4E3B\\u73AF\\u5883\\u7684 UI \\u63CF\\u8FF0\"}),`\n`,(0,e.jsxs)(l.li,{children:[`\\u6839\\u636E\\u65B0\\u7684 UI \\u63CF\\u8FF0\\u548C\\u53D8\\u5316\\uFF0C\\u6267\\u884C\\u771F\\u5B9E\\u5BBF\\u4E3B\\u73AF\\u5883\\u7684\\u66F4\\u65B0\\u89C6\\u56FE API\\r\n\\u5728\\u6D4F\\u89C8\\u5668\\u73AF\\u5883\\uFF0C\\u66F4\\u65B0\\u89C6\\u56FE\\u7684 API\\uFF0C\\u4E3B\\u8981\\u662F DOM \\u63D0\\u4F9B\\u7684 API\\uFF0C\\u6709`,(0,e.jsx)(l.code,{children:\"Node.appendChild\"}),\"\\u3001\",(0,e.jsx)(l.code,{children:\"Node.removeChild\"}),\"\\u7B49\\u7B49\"]}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u901A\\u8FC7\\u5BF9\\u63CF\\u8FF0\\u548C\\u66F4\\u65B0\\u7C92\\u5EA6\\u7684\\u5F52\\u7C7B\\uFF0C\\u524D\\u7AEF\\u6846\\u67B6\\u53EF\\u4EE5\\u5206\\u4E3A\\u4E09\\u7C7B\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[\"\\u5E94\\u7528\\u7EA7\\u6846\\u67B6\\uFF0C\\u5982\",(0,e.jsx)(l.code,{children:\"React\"}),\"\\uFF0C\\u72B6\\u6001\\u53D8\\u5316\\u4F1A\\u5BFC\\u81F4\\u5E94\\u7528\\u4ECE\\u9876\\u81F3\\u4E0B\\u5BF9\\u6BD4 UI \\u7684\\u63CF\\u8FF0\\u53D8\\u5316\"]}),`\n`,(0,e.jsxs)(l.li,{children:[\"\\u7EC4\\u4EF6\\u7EA7\\u6846\\u67B6\\uFF0C\\u5982\",(0,e.jsx)(l.code,{children:\"Vue\"}),\"\\uFF0C\\u72B6\\u6001\\u53D8\\u5316\\u4F1A\\u5BFC\\u81F4\\u7EC4\\u4EF6\\u5BF9\\u6BD4 UI \\u7684\\u63CF\\u8FF0\\u53D8\\u5316\"]}),`\n`,(0,e.jsxs)(l.li,{children:[\"\\u5143\\u7D20\\u7EA7\\u6846\\u67B6\\uFF0C\\u5982\",(0,e.jsx)(l.code,{children:\"Sevlet\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"Solid\"}),\"\\uFF0C\\u72B6\\u6001\\u53D8\\u5316\\u4F1A\\u5BFC\\u81F4\\u5143\\u7D20\\u63CF\\u8FF0\\u7684\\u53D8\\u5316\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.h4,{id:\"react-\\u4E2D\\u7684\\u81EA\\u53D8\\u91CF\\u4E0E\\u56E0\\u53D8\\u91CF\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#react-\\u4E2D\\u7684\\u81EA\\u53D8\\u91CF\\u4E0E\\u56E0\\u53D8\\u91CF\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"React \\u4E2D\\u7684\\u81EA\\u53D8\\u91CF\\u4E0E\\u56E0\\u53D8\\u91CF\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5C06\",(0,e.jsx)(l.code,{children:\"React Hooks\"}),\"\\u5206\\u7C7B\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useState\"}),\": \\u5B9A\\u4E49\\u7EC4\\u4EF6\\u5185\\u90E8\\u7684\\u81EA\\u53D8\\u91CF\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useReducer\"}),\": \",(0,e.jsx)(l.code,{children:\"useState\"}),\"\\u672C\\u8D28\\u662F\\u5185\\u7F6E\",(0,e.jsx)(l.code,{children:\"reducer\"}),\"\\u7684\",(0,e.jsx)(l.code,{children:\"useReducer\"}),\"\\u3002\\u5982\\u679C\\u5C06\",(0,e.jsx)(l.code,{children:\"useReducer\"}),\"\\u770B\\u4F5C\",(0,e.jsx)(l.strong,{children:\"\\u501F\\u9274 Redux \\u7406\\u5FF5\\u7684 useState\"}),\"\\uFF0C\\u4E5F\\u76F8\\u5F53\\u4E8E\\u7EC4\\u4EF6\\u5185\\u90E8\\u5B9A\\u4E49\\u7684\\u81EA\\u53D8\\u91CF\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useContext\"}),\": \",(0,e.jsx)(l.code,{children:\"React\"}),\"\\u4E2D\",(0,e.jsx)(l.code,{children:\"store\"}),\"\\u7684\\u5B9E\\u73B0\\uFF0C\\u7528\\u4E8E\\u5938\\u5C42\\u7EA7\\u5C06\\u5176\\u4ED6\\u7EC4\\u4EF6\\u7684\\u81EA\\u53D8\\u91CF\\u4F20\\u9012\\u7ED9\\u5F53\\u524D\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useMemo\"}),\": \\u91C7\\u7528\\u7F13\\u5B58\\u7684\\u65B9\\u5F0F\\u5B9A\\u4E49\\u7EC4\\u4EF6\\u5185\\u90E8\\u65E0\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useCallback\"}),\": \\u91C7\\u7528\\u7F13\\u5B58\\u7684\\u65B9\\u5F0F\\u5B9A\\u4E49\\u7EC4\\u4EF6\\u5185\\u90E8\\u65E0\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\\uFF0C\\u7F13\\u5B58\\u503C\\u4E3A\",(0,e.jsx)(l.strong,{children:\"\\u51FD\\u6570\"})]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useEffect\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"useLayoutEffect\"}),\": \\u5B9A\\u4E49\\u7EC4\\u4EF6\\u5185\\u90E8\\u6709\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useRef\"}),\": \\u81EA\\u5B9A\\u4E49\\u6267\\u884C\\u6709\\u526F\\u4F5C\\u7528\\u7684\\u64CD\\u4F5C\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.h3,{id:\"\\u4E3B\\u6D41\\u524D\\u7AEF\\u6846\\u67B6\\u4F7F\\u7528\\u7684\\u6280\\u672F\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u4E3B\\u6D41\\u524D\\u7AEF\\u6846\\u67B6\\u4F7F\\u7528\\u7684\\u6280\\u672F\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u4E3B\\u6D41\\u524D\\u7AEF\\u6846\\u67B6\\u4F7F\\u7528\\u7684\\u6280\\u672F\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u5173\\u4E8E\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u5173\\u4E8E\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u5173\\u4E8E\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5728\",(0,e.jsx)(l.code,{children:\"React\"}),\"\\u4E2D\\u5B9A\\u4E49\\u56E0\\u53D8\\u91CF\\u9700\\u8981\\u663E\\u793A\\u6307\\u660E\",(0,e.jsx)(l.strong,{children:\"\\u56E0\\u53D8\\u91CF\\u4F9D\\u8D56\\u7684\\u81EA\\u53D8\\u91CF\"}),\"\\uFF0C\\u7136\\u800C\\u5728\",(0,e.jsx)(l.code,{children:\"Vue\"}),\"\\u3001\",(0,e.jsx)(l.code,{children:\"Mobx\"}),\"\\u4E2D\\u5E76\\u4E0D\\u9700\\u8981\\u663E\\u793A\\u7684\\u6307\\u660E\\u3002\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4E3E\\u4E2A\\u6817\\u5B50\\u611F\\u53D7\\u4E00\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// React Hook\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"y\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useMemo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", [x])\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// Vue Composition\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"y\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x.value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// Mobx\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"y\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"computed\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" x.data \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"*\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u53EF\\u4EE5\\u53D1\\u73B0\",(0,e.jsx)(l.code,{children:\"Vue\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"Mobx\"}),\"\\u4E2D\\u4F7F\\u7528\\u7684\\u80FD\\u591F\\u81EA\\u52A8\\u8FFD\\u8E2A\\u4F9D\\u8D56\\u7684\\u6280\\u672F\\uFF0C\\u88AB\\u79F0\\u4E3A\",(0,e.jsx)(l.strong,{children:\"\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\"}),\"\\uFF0C\\u5B83\\u540C\\u65F6\\u4E5F\\u662F\\u8BB8\\u591A\\u524D\\u7AEF\\u5EFA\\u7ACB\",(0,e.jsx)(l.strong,{children:\"\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u5230 UI \\u53D8\\u5316\"}),`\\u7684\\u5E95\\u5C42\\u539F\\u7406\\r\n\\u7531`,(0,e.jsx)(l.code,{children:\"KnockoutJS\"}),\"\\u5728 2010 \\u5E74\\u521D\\u91C7\\u7528\\uFF0C\\u5E76\\u79F0\\u4E3A\",(0,e.jsx)(l.strong,{children:\"\\u54CD\\u5E94\\u5F0F\\u66F4\\u65B0\"})]}),`\n`,(0,e.jsx)(l.hr,{}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u4E0B\\u9762\\u5B9E\\u73B0\\u4E00\\u4E2A\",(0,e.jsx)(l.strong,{children:\"\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\"}),\"\\u3002\",(0,e.jsxs)(l.strong,{children:[\"\\u4E0B\\u5217\\u7684\",(0,e.jsx)(l.code,{children:\"React Hook\"}),\" API \\u5747\\u4E3A\",(0,e.jsx)(l.code,{children:\"Fake\"}),\"API\\u3002\"]})]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u57FA\\u7840\\u6846\\u67B6\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" value \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4E0EReact\\u4E0D\\u540C\\uFF0C\\u8FD9\\u91CC\\u5E76\\u4E0D\\u662F\\u76F4\\u63A5\\u8FD4\\u56DEvalue\\uFF0C\\u7528\\u4E8E\\u540E\\u7EED\\u8BA2\\u9605\\u526F\\u4F5C\\u7528\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" newValue)\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [getter, setter]\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u5B9E\\u73B0\",(0,e.jsx)(l.strong,{children:\"\\u6709\\u526F\\u4F5C\\u7528\\u56E0\\u53D8\\u91CF\"}),\"\\u2014\\u2014\\u2014fake\",(0,e.jsx)(l.code,{children:\"useEffect\"}),\",\\u671F\\u671B\\u7684\\u884C\\u4E3A\\u662F\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useEffect\"}),\"\\u6267\\u884C\\u540E\\uFF0C\\u56DE\\u8C03\\u51FD\\u6570\\u7ACB\\u5373\\u6267\\u884C\"]}),`\n`,(0,e.jsx)(l.li,{children:\"\\u4F9D\\u8D56\\u7684\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u540E\\uFF0C\\u6BC1\\u6389\\u51FD\\u6570\\u7ACB\\u5373\\u6267\\u884C\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u4E0D\\u9700\\u8981\\u663E\\u793A\\u6307\\u660E\\u4F9D\\u8D56\"}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5EFA\\u7ACB\",(0,e.jsx)(l.code,{children:\"useState\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"useEffect\"}),\"\\u7684\\u53D1\\u5E03\\u8BA2\\u9605\\u5173\\u7CFB\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[\"\\u5728\",(0,e.jsx)(l.code,{children:\"useEffect\"}),\"\\u56DE\\u8C03\\u4E2D\\u6267\\u884C\",(0,e.jsx)(l.code,{children:\"useState\"}),\"\\u7684\",(0,e.jsx)(l.code,{children:\"getter\"}),\"\\u65F6\\uFF0C\\u8BE5\",(0,e.jsx)(l.code,{children:\"effect\"}),\"\\u4F1A\\u8BA2\\u9605\\u201C\\u8BE5 state \\u7684\\u53D8\\u5316\\u201D\\uFF0C\\u6536\\u96C6\\u4F9D\\u8D56\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"useState\"}),\"\\u7684\",(0,e.jsx)(l.code,{children:\"setter\"}),\"\\u5728\\u6267\\u884C\\u65F6\\uFF0C\\u4F1A\\u5411\\u6240\\u6709\\u8BA2\\u9605\\u4E86\\u8BE5\",(0,e.jsx)(l.code,{children:\"state\"}),\"\\u53D8\\u5316\\u7684\",(0,e.jsx)(l.code,{children:\"effect\"}),`\\u53D1\\u5E03\\u901A\\u77E5\\uFF0C\\u901A\\u77E5\\u4F9D\\u8D56\\r\n`,(0,e.jsx)(l.img,{src:\"https://static.wissbell.com/wissbell/photos/fake-relative.png?imageMogr2/format/webp\",alt:\"effect\\u548Cstate\\u7684\\u5173\\u7CFB\"}),`\\r\n\\u5B9A\\u4E49`,(0,e.jsx)(l.code,{children:\"effect\"})]}),`\n`]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  execute, \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7528\\u4E8E\\u6267\\u884CuseEffect\\u56DE\\u8C03\\u51FD\\u6570\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  deps: \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u4FDD\\u5B58\\u8BE5useEffect\\u4F9D\\u8D56\\u7684state\\u5BF9\\u5E94subs\\u7684\\u96C6\\u5408\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u901A\\u8FC7\\u904D\\u5386\",(0,e.jsx)(l.code,{children:\"state.subs\"}),\"\\uFF0C\\u53EF\\u4EE5\\u627E\\u5230\\u6240\\u6709\\u201C\\u8BA2\\u9605\\u8BE5 state \\u53D8\\u5316\\u7684 effect\\u201D\\u3002\\u901A\\u8FC7\\u904D\\u5386\",(0,e.jsx)(l.code,{children:\"effct.deps\"}),\",\\u53EF\\u4EE5\\u627E\\u5230\\u6240\\u6709\\u201C\\u8BE5 effect \\u4F9D\\u8D56\\u7684 state.subs\\u201D.\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5B9E\\u73B0\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"execute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"cleanup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect) \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u91CD\\u7F6E\\u4F9D\\u8D56\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    effectStack.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect)\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"try\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"finally\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      effectStack.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"pop\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6267\\u884C\\u5B8C\\u6BD5\\uFF0Ceffect\\u51FA\\u6808\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      execute,\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      deps: \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(),\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"execute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7ACB\\u523B\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u5EFA\\u7ACB\\u53D1\\u5E03\\u8BA2\\u9605\\u5173\\u7CFB\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5173\\u4E8E\\u7EC6\\u8282\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"callback\"}),\"\\u6267\\u884C\\u524D\\u8C03\\u7528\",(0,e.jsx)(l.code,{children:\"cleanup\"}),\"\\u6E05\\u9664\\u6240\\u6709\\u4E0E\\u8BE5\",(0,e.jsx)(l.code,{children:\"effect\"}),\"\\u76F8\\u5173\\u7684\\u8BA2\\u9605\\u53D1\\u5E03\\u5173\\u7CFB\\uFF08\\u91CD\\u65B0\\u5EFA\\u7ACB\\u8BA2\\u9605\\u53D1\\u5E03\\u5173\\u7CFB\\uFF09\"]}),`\n`,(0,e.jsxs)(l.li,{children:[(0,e.jsx)(l.code,{children:\"callback\"}),\"\\u6267\\u884C\\u524D\\u5C06\\u5F53\\u524D\",(0,e.jsx)(l.code,{children:\"effect\"}),\"\\u4FDD\\u5B58\\u5728\",(0,e.jsx)(l.code,{children:\"effectStack\"}),\"\\u6808\\u9876\\uFF0C\\u65B9\\u4FBF\\u5904\\u7406\\u5F53\\u524D\\u6240\\u5904\\u7684\",(0,e.jsx)(l.code,{children:\"effect\"}),\"\\u4E0A\\u4E0B\\u6587\"]}),`\n`,(0,e.jsxs)(l.li,{children:[\"\\u6700\\u540E\\uFF0C\\u5728\",(0,e.jsx)(l.code,{children:\"useEffect\"}),\"\\u6267\\u884C\\u540E\\uFF0C\\u4F1A\\u6267\\u884C\",(0,e.jsx)(l.code,{children:\"execute\"}),\"\\uFF0C\\u5EFA\\u7ACB\\u8BA2\\u9605\\u53D1\\u5E03\\u5173\\u7CFB\\u3002\\u81EA\\u52A8\\u6536\\u96C6\\u4F9D\\u8D56\\u624D\\u80FD\\u751F\\u6548\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5173\\u4E8E\\u4E3A\\u4EC0\\u4E48\\u8981\\u6267\\u884C\",(0,e.jsx)(l.code,{children:\"cleanup\"}),\"?\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4E3E\\u4E2A\\u6817\\u5B50\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"name1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setName1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'k'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"name2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setName2\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'w'\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"showAll\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"setShowAll\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"true\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"display\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useMemo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"!\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"showAll) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"name1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"`${\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"name1\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}\\u548C${\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"name2\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"()\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"}`\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"})\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  console.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"display\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"})\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5982\\u679C\\u6267\\u884C\\u4E86\",(0,e.jsx)(l.code,{children:\"setShowAll(false)\"}),\"\\uFF0C\\u90A3\\u4E48\\u4EE3\\u7801\\u903B\\u8F91\\u5C31\\u4E0D\\u4F1A\\u8D70\\u5230\",(0,e.jsx)(l.code,{children:\"name2()\"}),\",\\u8FD9\\u6837\\u4E00\\u6765\",(0,e.jsx)(l.code,{children:\"display\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"name2\"}),`\\u5C31\\u6CA1\\u6709\\u53D1\\u5E03\\u8BA2\\u9605\\u5173\\u7CFB\\u3002\\r\n\\u53EA\\u6709\\u5F53`,(0,e.jsx)(l.code,{children:\"stShowAll(true)\"}),\"\\u88AB\\u6267\\u884C\\u540E\\uFF0C\",(0,e.jsx)(l.code,{children:\"display\"}),\"\\u624D\\u4F1A\\u91CD\\u65B0\\u4F9D\\u8D56\",(0,e.jsx)(l.code,{children:\"name1\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"name2\"}),\"\\u3002\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u4FEE\\u6539\",(0,e.jsx)(l.code,{children:\"useState\"}),\"\\uFF0C\\u5B8C\\u6210\\u8BA2\\u9605\\u4E0E\\u53D1\\u5E03\\u7684\\u903B\\u8F91\"]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"subs\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// Set\\u4FDD\\u8BC1\\u4E86\\u4E0D\\u4F1A\\u6DFB\\u52A0\\u91CD\\u590D\\u6570\\u636E\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" effectStack[effectStack.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (effect) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"subscribe\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect, subs) \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u8BA2\\u9605\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" value\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" newValue\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"of\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"subs]) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      effect.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"execute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"//\\u6279\\u91CF\\u53D1\\u5E03\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [getter, setter]\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"subscribe\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"subs\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  subs.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect)\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  effect.deps.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(subs)\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5B9E\\u73B0\",(0,e.jsx)(l.code,{children:\"useState\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"useEffect\"}),\"\\u4E4B\\u540E\\uFF0C\\u53EF\\u4EE5\\u5728\\u6B64\\u57FA\\u7840\\u5B9E\\u73B0\",(0,e.jsx)(l.code,{children:\"useMemo\"}),\":\"]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useMemo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"){\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"s\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(()\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  return s\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5173\\u4E8E\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\\u7684\\u5B9E\\u73B0\\u5B8C\\u6574\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effectStack\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" []\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"subscribe\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"subs\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  subs.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect)\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  effet.deps.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"add\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(subs)\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"cleanup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"subs\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"of\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" effect.deps){\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    subs.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"delete\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect)\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  effect.deps.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"clear\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"value\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"){\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"subs\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// Set\\u4FDD\\u8BC1\\u4E86\\u4E0D\\u4F1A\\u6DFB\\u52A0\\u91CD\\u590D\\u6570\\u636E\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"getter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" effectStack[effectStack.\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"length\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"-\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect){\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"subscribe\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect,subs) \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u8BA2\\u9605\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" value\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setter\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"newValue\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    value \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" newValue\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"for\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"of\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"...\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"subs]) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"      effect.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"execute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"//\\u6279\\u91CF\\u53D1\\u5E03\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [getter, setter]\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"execute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" () \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"cleanup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect) \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u91CD\\u7F6E\\u4F9D\\u8D56\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  effectStack.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"push\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(effect)\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"try\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"{\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"finally\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    effectStack.\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"pop\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u6267\\u884C\\u5B8C\\u6BD5\\uFF0Ceffect\\u51FA\\u6808\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"effect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    execute,\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    deps: \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"Set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"execute\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7ACB\\u523B\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u5EFA\\u7ACB\\u53D1\\u5E03\\u8BA2\\u9605\\u5173\\u7CFB\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" }\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"function\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useMemo\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"){\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" [\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"s\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"] \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useState\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"()\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"useEffect\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(()\"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"callback\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"())\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  return s\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u4E0A\\u8FF0\\u4EE3\\u7801\\u5B9E\\u73B0\\u4E86\",(0,e.jsx)(l.strong,{children:\"\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\"}),\"\\u7248\\u672C\\u7684 React Hooks\\u3002\\u76F8\\u6BD4\\u539F\\u7248 API\\u3002\\u5B83\\u6709\\u4E24\\u4E2A\\u4F18\\u70B9\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u65E0\\u9700\\u663E\\u5F0F\\u6307\\u660E\\u4F9D\\u8D56\"}),`\n`,(0,e.jsxs)(l.li,{children:[\"\\u7531\\u4E8E\\u53EF\\u4EE5\\u81EA\\u52A8\\u8FFD\\u8E2A\\u4F9D\\u8D56\\uFF0C\\u56E0\\u6B64\\u4E0D\\u53D7\",(0,e.jsx)(l.strong,{children:\"React Hooks \\u4E0D\\u80FD\\u5728\\u6761\\u4EF6\\u8BED\\u53E5\\u4E2D\\u58F0\\u660E\\u7684\\u9650\\u5236\"}),`\\r\n\\u65E2\\u7136\\u5982\\u6B64\\uFF0C\\u90A3\\u4E48\\u4E3A\\u4EC0\\u4E48`,(0,e.jsx)(l.code,{children:\"React Hooks\"}),\"\\u4E0D\\u91C7\\u7528\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\\u5462\\uFF1F\\u56DE\\u987E\\u6846\\u67B6\\u5206\\u7C7B\\uFF0C\",(0,e.jsx)(l.code,{children:\"React\"}),`\\u5C5E\\u4E8E\\u5E94\\u7528\\u7EA7\\u6846\\u67B6\\uFF0C\\r\n`,(0,e.jsx)(l.strong,{children:\"\\u5173\\u6CE8\\u81EA\\u53D8\\u91CF\\u4E0E\\u5E94\\u7528\\u7684\\u5173\\u7CFB\"}),\"\\uFF0C\\u5176\\u66F4\\u65B0\\u7C92\\u5EA6\\u4E0D\\u9700\\u8981\\u5F88\\u7EC6\\u3002\\u56E0\\u6B64\\u65E0\\u987B\\u4F7F\\u7528\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\\u3002\\u4F5C\\u4E3A\\u4EE3\\u4EF7\\uFF0C\",(0,e.jsx)(l.code,{children:\"React Hooks\"}),\"\\u5728\\u4F7F\\u7528\\u4E0A\\u5219\\u4F1A\\u6709\\u4E0A\\u8FF0\\u4E24\\u4E2A\\u4F18\\u70B9\\u76F8\\u5BF9\\u5E94\\u7684\\u7F3A\\u70B9\\u3002\"]}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u5176\\u6B21\\u6211\\u4EEC\\u7684 Fake API \\u4E0E React API \\u8FD8\\u6709\\u4E00\\u4E2A\\u533A\\u522B\\u3002\",(0,e.jsx)(l.code,{children:\"useState\"}),\"\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\\u4E0A\\u4E00\\u4E2A\\u51FD\\u6570\\uFF0C\\u56E0\\u6B64\\u53D6\\u503C\\u7684\\u65F6\\u5019\\u9700\\u8981\\u8C03\\u7528\\u3002\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"Solid.js \\u4F7F\\u7528\\u4E86\\u6211\\u4EEC\\u5B9E\\u73B0\\u7684\\u65B9\\u5F0F\\uFF0C\",(0,e.jsx)(l.code,{children:\"Vue2/3\"}),\"\\u4E2D\\u5206\\u522B\\u4F7F\\u7528\\u4E86\\u5BF9\\u8C61\\u5B58\\u53D6\\u63CF\\u8FF0\\u7B26\\u548C Proxy \\u5C01\\u88C5\\u4E86 getValue\\uFF0C\\u9690\\u85CF\\u4E86\\u51FD\\u6570\\u8FD9\\u4E00\\u7EC6\\u8282\\u3002\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"aot\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#aot\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"AOT\"]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u73B0\\u4EE3\\u524D\\u7AEF\\u6846\\u67B6\\u90FD\\u9700\\u8981\",(0,e.jsx)(l.strong,{children:\"\\u7F16\\u8BD1\"}),\"\\u8FD9\\u4E00\\u6B65\\u9AA4\\uFF0C\\u7F16\\u8BD1\\u53EF\\u4EE5\\u9009\\u62E9\\u4E24\\u4E2A\\u65F6\\u673A\\u6267\\u884C\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u6784\\u5EFA\\u65F6\\uFF0CAOT\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u4EE3\\u7801\\u5728\\u5BBF\\u4E3B\\u73AF\\u5883\\u6267\\u884C\\u65F6\\uFF0CJIT\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"AOT \\u80FD\\u5728\\u6784\\u5EFA\\u8FC7\\u7A0B\\u4E2D\\u8FDB\\u884C\\u5206\\u6790\\uFF0C\\u4F18\\u5316\\u5F97\\u5230\\u6027\\u80FD\\u63D0\\u5347\\u3002JIT \\u63D0\\u4F9B\\u5FEB\\u901F\\u7684\\u5F00\\u53D1\\u4F53\\u9A8C\\uFF0C\\u4F46\\u8FD0\\u884C\\u65F6\\u4F1A\\u589E\\u52A0\\u7F16\\u8BD1\\u5668\\u4EE3\\u7801\"}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u867D\\u7136 React \\u5C5E\\u4E8E AOT\\uFF0C\\u4F46\\u7531\\u4E8E JSX \\u662F ES \\u7684\\u8BED\\u6CD5\\u7CD6\\uFF0CES \\u8BED\\u53E5\\u7684\\u9AD8\\u5EA6\\u7075\\u6D3B\\u6027\\uFF0C\\u4F7F\\u5176\\u5F88\\u96BE\\u8FDB\\u884C\\u9759\\u6001\\u5206\\u6790\\u4ECE\\u800C\\u83B7\\u5F97\\u5982 Vue \\u7684\\u9759\\u6001\\u5206\\u6790\\u4F18\\u5316\\u3002React \\u4E5F\\u5C1D\\u8BD5\\u8FC7\\u4F7F\\u7528\\u65B0\\u7684 AOT \\u5B9E\\u73B0\\u6765\\u4F18\\u5316 React \\u6027\\u80FD\\u3002\",(0,e.jsx)(l.code,{children:\"prepack\"}),\"\\u662F\\u4E00\\u4E2A\\u53EF\\u4EE5\\u81EA\\u52A8\\u751F\\u6210\\u7B49\\u6548\\u4E8E\",(0,e.jsx)(l.code,{children:\"useMemo\"}),\"\\u548C\",(0,e.jsx)(l.code,{children:\"useCallback\"}),\"\\u4EE3\\u7801\\u7684\\u7F16\\u8BD1\\u5668\\u3002\\u4F46\\u9879\\u76EE\\u5DF2\\u4E8E 2019 \\u5E74\\u6682\\u505C\\u3002\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"virtual-dom\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#virtual-dom\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"Virtual DOM\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u524D\\u7AEF\\u6846\\u67B6\\u53EF\\u4EE5\\u4ECE AOT \\u4E2D\\u83B7\\u5F97\\u8BB8\\u591A\\u76CA\\u5904\\uFF0CAOT \\u53EF\\u4EE5\\u51CF\\u5C11\\u6839\\u636E\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u8BA1\\u7B97\\u51FA UI \\u53D8\\u5316\\u7684\\u4F5C\\u7528\\u3002Virtual Dom \\u4F5C\\u4E3A\\u4E00\\u79CD DOM UI \\u63CF\\u8FF0\\u7684\\u4E3B\\u6D41\\u6280\\u672F\\uFF0C\\u5176\\u539F\\u7406\\u6982\\u62EC\\u4E3A\\u4E24\\u4E2A\\u6B65\\u9AA4\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u5C06\\u5143\\u7D20\\u63CF\\u8FF0\\u7684 UI \\u8F6C\\u5316\\u4E3A VDOM \\u63CF\\u8FF0\\u7684 UI\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u5BF9\\u6BD4\\u524D\\u540E VDOM \\u63CF\\u8FF0\\u7684 UI\\uFF0C\\u8BA1\\u7B97\\u51FA\\u53D8\\u5316\\u7684\\u90E8\\u5206\\u3002\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5728 Vue \\u4E2D\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"render \\u51FD\\u6570\\u6267\\u884C\\u540E\\u8FD4\\u56DE VNode \\u63CF\\u8FF0\\u7684 UI\\uFF0C\\u79F0\\u4E3A render\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u5C06\\u53D8\\u5316\\u524D\\u540E\\u7684 VNode \\u8FDB\\u884C\\u6BD4\\u8F83\\uFF0C\\u8BA1\\u7B97\\u51FA\\u53D8\\u5316\\u90E8\\u5206\\uFF0C\\u79F0\\u4E3A patch\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5728 React \\u4E2D\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"createElement \\u65B9\\u6CD5\\u6267\\u884C\\u540E\\u8FD4\\u56DE\\u7684 React Element \\u63CF\\u8FF0\\u7684 UI\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u5C06 React Element \\u63CF\\u8FF0\\u7684 UI \\u4E0E\\u53D8\\u5316\\u524D FiberNode \\u63CF\\u8FF0\\u7684 UI \\u8FDB\\u884C\\u6BD4\\u8F83\\uFF0C\\u8BA1\\u7B97\\u51FA\\u53D8\\u5316\\u90E8\\u5206\\uFF0C\\u540C\\u65F6\\u751F\\u6210\\u672C\\u6B21\\u66F4\\u65B0 FiberNode \\u63CF\\u8FF0\\u7684 UI\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"VDOM \\u7684\\u4F18\\u70B9\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u76F8\\u8F83\\u4E8E DOM \\u4F53\\u79EF\\u66F4\\u5C0F\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u76F8\\u8F83\\u4E8E AOT \\u66F4\\u5F3A\\u5927\\u7684\\u63CF\\u8FF0\\u80FD\\u529B\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u591A\\u5E73\\u53F0\\u6E32\\u67D3\\u7684\\u62BD\\u8C61\\u80FD\\u529B\"}),`\n`]}),`\n`,(0,e.jsxs)(l.h3,{id:\"\\u524D\\u7AEF\\u6846\\u67B6\\u7684\\u5B9E\\u73B0\\u539F\\u7406\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u524D\\u7AEF\\u6846\\u67B6\\u7684\\u5B9E\\u73B0\\u539F\\u7406\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u524D\\u7AEF\\u6846\\u67B6\\u7684\\u5B9E\\u73B0\\u539F\\u7406\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u7B80\\u5355\\u4ECB\\u7ECD\\u4E00\\u4E0B\\u5143\\u7D20\\u7EA7\\u3001\\u7EC4\\u4EF6\\u7EA7\\u3001\\u5E94\\u7528\\u7EA7\\u6846\\u67B6\\u7684\\u5B9E\\u73B0\\u539F\\u7406\\u3002\"}),`\n`,(0,e.jsxs)(l.h4,{id:\"svelte\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#svelte\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"Svelte\"]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"html\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"html\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"on:click\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"{count++}\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">{count}</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" count \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"\\u7EC4\\u4EF6\\u7F16\\u8BD1\\u540E\\u4F1A\\u751F\\u6210\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"c create \\u51FD\\u6570\"}),`\n`,(0,e.jsx)(l.li,{children:\"m mount \\u51FD\\u6570\"}),`\n`,(0,e.jsx)(l.li,{children:\"d detach \\u51FD\\u6570\"}),`\n`,(0,e.jsx)(l.li,{children:`p update \\u51FD\\u6570\\r\n\\u7F16\\u8BD1\\u540E\\u7684\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A`}),`\n`]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"c\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" h1 \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"element\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"h1\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" t \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"text\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/*count*/\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ctx[\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"])\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"m\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(target,anchor) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"insert\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(target, h1, anchor)\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"append\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(h1, t)\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  dispose \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"listen\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(h1, \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"click\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/*update*/\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"ctx[\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"]) \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u7ED1\\u5B9A\\u231A\\uFE0F\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(new_ctx, [dirty]) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ctx \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" new_ctx\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(dirty \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"&&\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/*count*/\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"set_data\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(t0, \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/*count*/\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" ctx[\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"])\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"d\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(detaching) {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"if\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(detaching) \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"detach\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(h1)\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"despose\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"() \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"// \\u89E3\\u7ED1\\u4E8B\\u4EF6\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"click \\u6267\\u884C\\u56DE\\u8C03\\u51FD\\u6570 update\"}),`\n`,(0,e.jsxs)(l.li,{children:[\"update \\u5185\\u8C03\\u7528\",(0,e.jsx)(l.code,{children:\"$$invalidate\"}),\"\\u65B9\\u6CD5\\uFF0C\\u66F4\\u65B0 ctx \\u4E2D\\u7684 ctx\\uFF0C\\u6807\\u8BB0 count \\u4E3A dirt\\uFF0C\\u8C03\\u5EA6\\u66F4\\u65B0\\u3002\"]}),`\n`,(0,e.jsx)(l.li,{children:\"\\u6267\\u884C p \\u65B9\\u6CD5\\uFF0C\\u65B9\\u6CD5\\u5185 dirty \\u7684\\u9879\\uFF08count\\uFF09\\u5BF9\\u5E94\\u7684 if \\u8BED\\u53E5\\u4F1A\\u6267\\u884C\\u5177\\u4F53\\u7684 DOM \\u64CD\\u4F5C\"}),`\n`]}),`\n`,(0,e.jsxs)(l.h4,{id:\"vue3\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#vue3\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"Vue3\"]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"html\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"html\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"setup\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" { ref } \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:\"'vue'\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" count \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"ref\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"script\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:\" \"}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"<\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"@click\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"=\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"count++\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">{{count}}</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"h1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  <\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\\u4E0D\\u4F1A\\u53D8\\u5316</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"p\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"</\"}),(0,e.jsx)(l.span,{style:{color:\"#85E89D\"},children:\"template\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\">\"})]})]})})}),`\n`,(0,e.jsx)(l.p,{children:\"Vue3 \\u4F1A\\u4E3A\\u6BCF\\u4E2A\\u7EC4\\u4EF6\\u90FD\\u5EFA\\u7ACB\\u81EA\\u53D8\\u91CF\\u4E0E UI \\u7684 watchEffect \\u5173\\u7CFB\\uFF0C\\u5728 watchEffect \\u9996\\u6B21\\u53CA\\u540E\\u7EED\\u4F9D\\u8D56\\u53D8\\u5316\\u540E\\u6267\\u884C\\u5982\\u4E0B\\u6B65\\u9AA4\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u8C03\\u7528\\u7EC4\\u4EF6\\u7684 render \\u51FD\\u6570\\uFF0C\\u751F\\u6210\\u7EC4\\u4EF6\\u5BF9\\u5E94 VNode\"}),`\n`,(0,e.jsx)(l.li,{children:`render \\u51FD\\u6570\\u8FD4\\u56DE\\u672C\\u6B21\\u66F4\\u65B0\\u7684 VNode\\uFF0C\\u4E0E\\u4E0A\\u4E00\\u6B21\\u66F4\\u65B0\\u7684 VNode \\u540C\\u65F6\\u4F20\\u5165 patch \\u65B9\\u6CD5\\u3002\\u6267\\u884C VDOM \\u76F8\\u5173\\u64CD\\u4F5C\\uFF0C\\u627E\\u5230\\u672C\\u6B21\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\u5BFC\\u81F4\\u7684\\u5143\\u7D20\\u53D8\\u5316\\uFF0C\\u5E76\\u6267\\u884C\\u6700\\u7EC8\\u7684 DOM \\u64CD\\u4F5C\\r\n\\u5F53\\u70B9\\u51FB\\u4E8B\\u4EF6\\u5BFC\\u81F4 count \\u53D8\\u5316\\uFF0CVue3 \\u5C06\\u6267\\u884C\\u8BA2\\u9605 count \\u53D8\\u5316\\u7684 effect \\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u91CD\\u590D\\u4E0A\\u8FF0\\u4E24\\u4E2A\\u6B65\\u9AA4\\uFF0C\\u5B8C\\u6210 UI \\u6E32\\u67D3\\u3002\\u603B\\u7ED3\\u4E3A\\uFF1A`}),`\n`]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u81EA\\u53D8\\u91CF\\u53D8\\u5316\\uFF0C\\u5BF9\\u5E94 effect \\u56DE\\u8C03\\u51FD\\u6570\\u6267\\u884C\"}),`\n`,(0,e.jsx)(l.li,{children:\"effect \\u56DE\\u8C03\\u51FD\\u6570\\u6267\\u884C\\uFF0C\\u5BF9\\u5E94\\u7EC4\\u4EF6 UI \\u66F4\\u65B0\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"Vue3 \\u662F\\u5982\\u4F55\\u901A\\u8FC7 AOT \\u83B7\\u5F97\\u9759\\u6001\\u4F18\\u5316\\u7684\\uFF1F\"}),`\n`,(0,e.jsx)(l.p,{children:\"\\u7EC4\\u4EF6\\u6A21\\u7248\\u8FDB\\u884C patch \\u65B9\\u6CD5\\u65F6\\uFF0CVNode \\u4F1A\\u4E00\\u4E00\\u5BF9\\u6BD4\\u5143\\u7D20\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"h1 \\u4E0E h1 \\u6BD4\\u8F83\"}),`\n`,(0,e.jsx)(l.li,{children:`p \\u4E0E p \\u6BD4\\u8F83\\r\n\\u901A\\u8FC7\\u89C2\\u5BDF\\u53D1\\u73B0\\uFF0C\\u53EA\\u6709 h1 \\u662F\\u53EF\\u53D8\\u7684\\uFF0C\\u5176\\u4E8E\\u7684\\u6BD4\\u8F83\\u662F\\u65E0\\u610F\\u4E49\\u7684\\u3002\\u56E0\\u6B64\\u7F16\\u8BD1\\u540E\\u7684 render \\u51FD\\u6570\\uFF1A`}),`\n`]}),`\n`,(0,e.jsx)(l.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,e.jsx)(l.pre,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:(0,e.jsxs)(l.code,{\"data-language\":\"javascript\",\"data-theme\":\"default\",children:[(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"_ctx\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#FFAB70\"},children:\"_cache\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\") \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"=>\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  \"}),(0,e.jsx)(l.span,{style:{color:\"#F97583\"},children:\"return\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" (\"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_openBlock\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(), \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",[\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_createElementVNode\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(h1, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_toDisplayString\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(_ctx.count), \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,e.jsx)(l.span,{style:{color:\"#6A737D\"},children:\"/* TEXT */\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsxs)(l.span,{className:\"line\",children:[(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"    \"}),(0,e.jsx)(l.span,{style:{color:\"#B392F0\"},children:\"_createElementVNode\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"(h1, \"}),(0,e.jsx)(l.span,{style:{color:\"#79B8FF\"},children:\"null\"}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\",\"}),(0,e.jsx)(l.span,{style:{color:\"#9ECBFF\"},children:'\"\\u4E0D\\u4F1A\\u53D8\\u5316\"'}),(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"  ])\"})}),`\n`,(0,e.jsx)(l.span,{className:\"line\",children:(0,e.jsx)(l.span,{style:{color:\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,e.jsxs)(l.p,{children:[\"h1 \\u6240\\u5BF9\\u5E94\\u7684_createElementVNode \\u51FD\\u6570\\u7B2C 4 \\u4E2A\\u53C2\\u6570\\u4E3A 1\\uFF0C\\u8BE5\\u53C2\\u6570\\u88AB\\u79F0\\u4E3A\",(0,e.jsx)(l.code,{children:\"PatchFlags\"}),\"\\uFF0C\\u4EE3\\u8868 VNode \\u662F\\u53EF\\u53D8\\u7684\\u3002\\u5982\\uFF1A\"]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"1 \\u4EE3\\u8868\\u53EF\\u53D8 textContent\"}),`\n`,(0,e.jsx)(l.li,{children:`2 \\u4EE3\\u8868 class \\u53EF\\u53D8\\r\nrender \\u51FD\\u6570\\u6267\\u884C\\u540E\\uFF0C\\u6807\\u8BB0\\u4E3A patchFlag \\u7684\\u53EF\\u53D8\\u90E8\\u5206\\u88AB\\u63D0\\u53D6\\u5230 dynamicChildren \\u4E2D\\u3002`}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5F53 patch \\u6267\\u884C\\u65F6\\uFF0C\\u53EA\\u9700\\u8981\\u904D\\u5386 dynamicChildren\\uFF0C\\u800C\\u4E0D\\u9700\\u8981\\u904D\\u5386\\u6811\\u7ED3\\u6784\\u4E2D\\u7684\\u6240\\u6709 children\\u3002\\u51CF\\u5C11\\u8FD0\\u884C patch \\u65F6\\u5BF9\\u6BD4 VDOM \\u7684\\u8282\\u70B9\\uFF0C\\u5B9E\\u9645\\u7684 patch \\u53EF\\u80FD\\u66F4\\u590D\\u6742\\uFF0C\\u6BD4\\u5982\\u9700\\u8981\\u8003\\u8651\\uFF1A\"}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"v-if\\u3001v-for \\u7B49\\u6761\\u4EF6\\u8BED\\u53E5\\u751F\\u6210\\u7684 VNode \\u4E0D\\u7A33\\u5B9A\"}),`\n`,(0,e.jsx)(l.li,{children:\"Fragment \\u9020\\u6210\\u7684\\u5B50\\u8282\\u70B9\\u4E0D\\u7A33\\u5B9A\"}),`\n`]}),`\n`,(0,e.jsxs)(l.h4,{id:\"react\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#react\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"React\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u4F5C\\u4E3A\\u5E94\\u7528\\u7EA7\\u6846\\u67B6\\uFF0CReact \\u5B9E\\u73B0\\u539F\\u7406\\u5F88\\u7B80\\u5355\\uFF1A\"}),`\n`,(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsx)(l.p,{children:`react \\u5B9E\\u73B0\\u539F\\u7406\\r\n\\u4E8B\\u4EF6\\u89E6\\u53D1-> reconcile -> commit\\r\n\\u6309\\u7167\\u6B65\\u9AA4\\u6982\\u62EC\\u4E3A\\uFF1A`}),`\n`]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u89E6\\u53D1\\u4E8B\\u4EF6\\uFF0C\\u8BE5\\u53D8\\u81EA\\u53D8\\u91CF\\uFF0C\\u5F00\\u542F\\u66F4\\u65B0\\u6D41\\u7A0B\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u6267\\u884C VDOM \\u76F8\\u5173\\u64CD\\u4F5C\\uFF0C\\u5728 React \\u4E2D\\u79F0\\u4E3A reconcile\"}),`\n`,(0,e.jsx)(l.li,{children:`\\u6839\\u636E\\u6B65\\u9AA4 2 \\u8BA1\\u7B97\\u51FA\\u7684\\u9700\\u8981\\u53D8\\u5316\\u7684 UI \\u6267\\u884C\\u5BF9\\u5E94\\u7684 UI \\u64CD\\u4F5C\\uFF0C\\u5728 React \\u4E2D\\u79F0\\u4E3A commit\\r\nReact \\u88AB\\u79F0\\u4E3A\\u5E94\\u7528\\u7EA7\\u6846\\u67B6\\u7684\\u539F\\u56E0\\u5728\\u4E8E\\u2014\\u2014\\u5176\\u6BCF\\u6B21\\u66F4\\u65B0\\u6D41\\u7A0B\\u90FD\\u662F\\u4ECE\\u5E94\\u7528\\u7684\\u6839\\u8282\\u70B9\\u5F00\\u59CB\\uFF0C\\u904D\\u5386\\u6574\\u4E2A\\u5E94\\u7528\\uFF0C\\u5BF9\\u6BD4\\u5176\\u4ED6\\u6846\\u67B6\\uFF1A`}),`\n`]}),`\n`,(0,e.jsxs)(l.ul,{children:[`\n`,(0,e.jsx)(l.li,{children:\"Vue3 \\u7684\\u66F4\\u65B0\\u6D41\\u7A0B\\u5F00\\u59CB\\u4E8E\\u7EC4\\u4EF6\"}),`\n`,(0,e.jsx)(l.li,{children:\"Svelte \\u7684\\u66F4\\u65B0\\u6D41\\u7A0B\\u5F00\\u59CB\\u4E8E\\u5143\\u7D20\"}),`\n`]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u57FA\\u4E8E\\u8FD9\\u6837\\u7684\\u5FC3\\u667A\\u6A21\\u578B\\uFF0CReact \\u65E0\\u987B\\u786E\\u5B9A\\u54EA\\u4E2A\\u81EA\\u53D8\\u91CF\\u53D1\\u751F\\u4E86\\u53D8\\u5316\\uFF0C\\u56E0\\u4E3A\\u4EFB\\u4F55\\u81EA\\u53D8\\u91CF\\u7684\\u53D8\\u5316\\u90FD\\u4F1A\\u5F00\\u542F\\u4E00\\u6B21\\u4ECE\\u5934\\u5230\\u4F4D\\u7684\\u904D\\u5386\\u5E94\\u7528\\u66F4\\u65B0\\u6D41\\u7A0B\\u3002\\u56E0\\u6B64 React \\u4E0D\\u9700\\u8981\\u7EC6\\u7C92\\u5EA6\\u66F4\\u65B0\\u548C AOT\"}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u56E0\\u4E3A\\u6BCF\\u6B21\\u66F4\\u65B0\\u90FD\\u904D\\u5386\\u5E94\\u7528\\uFF0C\\u56E0\\u6B64 React \\u6027\\u80FD\\u4F18\\u5316\\u7684\\u4EFB\\u52A1\\u4EA4\\u5230\\u4E86\\u5F00\\u53D1\\u8005\\u624B\\u4E2D\\u3002\\u800C Vue \\u4E2D\\u4E0D\\u5B58\\u5728\\u5982\",(0,e.jsx)(l.code,{children:\"React.memo\"}),\"\\u4E4B\\u7C7B\\u7684 API\\uFF0C\\u662F\\u56E0\\u4E3A\\u7EC4\\u4EF6\\u7EA7\\u6846\\u67B6\\u7684\\u5B9A\\u4F4D\\u548C\\u5176\\u6A21\\u7248 AOT \\u4F18\\u5316\\u4EE5\\u53CA\\u51CF\\u5C11\\u4E86\\u5927\\u90E8\\u5206\\u65E0\\u610F\\u4E49\\u7684\\u904D\\u5386\\u5BF9\\u6BD4\\u8FC7\\u7A0B\\u3002\"]}),`\n`,(0,e.jsxs)(l.h2,{id:\"react-\\u7406\\u5FF5\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#react-\\u7406\\u5FF5\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"React \\u7406\\u5FF5\"]}),`\n`,(0,e.jsxs)(l.h3,{id:\"\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u601D\\u8DEF\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u601D\\u8DEF\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u95EE\\u9898\\u4E0E\\u89E3\\u51B3\\u601D\\u8DEF\"]}),`\n`,(0,e.jsx)(l.p,{children:\"\\u5728 React \\u5B98\\u7F51\\u4E2D\\uFF0C\\u201CReact \\u54F2\\u5B66\\u201D\\u4E00\\u8282\\u63D0\\u5230\\uFF0CReact \\u7684\\u7406\\u5FF5\\u662F\\uFF1A\"}),`\n`,(0,e.jsxs)(l.blockquote,{children:[`\n`,(0,e.jsx)(l.p,{children:`\\u6211\\u4EEC\\u8BA4\\u4E3A\\uFF0CReact \\u662F\\u7528 Javascript \\u6784\\u5EFA\\u5FEB\\u901F\\u54CD\\u5E94\\u7684\\u5927\\u578B Web \\u5E94\\u7528\\u7684\\u9996\\u9009\\u65B9\\u5F0F\\u3002\\u5B83\\u5728 Facebook \\u548C Instagram \\u4E0A\\u8868\\u73B0\\u4F18\\u79C0\\r\n\\u5236\\u7EA6\\u201C\\u5FEB\\u901F\\u54CD\\u5E94\\u201D\\u6709\\u4E24\\u7C7B\\u573A\\u666F\\uFF1A`}),`\n`]}),`\n`,(0,e.jsxs)(l.ol,{children:[`\n`,(0,e.jsx)(l.li,{children:\"\\u5F53\\u6267\\u884C\\u5927\\u91CF\\u8BA1\\u7B97\\u7684\\u64CD\\u4F5C\\u6216\\u8BBE\\u5907\\u6027\\u80FD\\u4E0D\\u8DB3\\u65F6\\uFF0C\\u9875\\u9762\\u6389\\u5E27\\uFF0C\\u5BFC\\u81F4\\u5361\\u987F\\uFF0C\\u4E3A CPU \\u74F6\\u9888\"}),`\n`,(0,e.jsx)(l.li,{children:\"\\u8FDB\\u884C I/O \\u64CD\\u4F5C\\u540E\\uFF0C\\u9700\\u8981\\u7B49\\u5F85\\u6570\\u636E\\u8FD4\\u56DE\\u624D\\u80FD\\u7EE7\\u7EED\\u64CD\\u4F5C\\uFF0C\\u7B49\\u5F85\\u7684\\u8FC7\\u7A0B\\u5BFC\\u81F4\\u4E0D\\u80FD\\u5FEB\\u901F\\u54CD\\u5E94\\uFF0C\\u4E3A I/O \\u74F6\\u9888\"}),`\n`]}),`\n`,(0,e.jsxs)(l.p,{children:[\"\\u4E3A\\u4EC0\\u4E48\\u4E00\\u6BB5\\u590D\\u6742 JS \\u4EE3\\u7801\\u4F1A\\u5BFC\\u81F4\\u9875\\u9762\\u5361\\u987F\\uFF0C\\u8FD9\",(0,e.jsx)(l.strong,{children:\"\\u4E0E\\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\\u4E0E\\u4E8B\\u4EF6\\u5FAA\\u73AF\\u6709\\u5173\"})]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6D4F\\u89C8\\u5668\\u6E32\\u67D3\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u4E8B\\u4EF6\\u5FAA\\u73AF\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u4E8B\\u4EF6\\u5FAA\\u73AF\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"cpu-\\u74F6\\u9888\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#cpu-\\u74F6\\u9888\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"CPU \\u74F6\\u9888\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"io-\\u74F6\\u9888\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#io-\\u74F6\\u9888\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"I/O \\u74F6\\u9888\"]}),`\n`,(0,e.jsxs)(l.h3,{id:\"react-\\u67B6\\u6784\\u6F14\\u8FDB\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#react-\\u67B6\\u6784\\u6F14\\u8FDB\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"React \\u67B6\\u6784\\u6F14\\u8FDB\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u65B0\\u65E7\\u67B6\\u6784\\u4ECB\\u7ECD\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u65B0\\u65E7\\u67B6\\u6784\\u4ECB\\u7ECD\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u65B0\\u65E7\\u67B6\\u6784\\u4ECB\\u7ECD\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u4E3B\\u6253\\u7279\\u6027\\u7684\\u8FED\\u4EE3\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u4E3B\\u6253\\u7279\\u6027\\u7684\\u8FED\\u4EE3\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u4E3B\\u6253\\u7279\\u6027\\u7684\\u8FED\\u4EE3\"]}),`\n`,(0,e.jsxs)(l.h4,{id:\"\\u6E10\\u8FDB\\u5347\\u7EA7\\u7B56\\u7565\\u7684\\u8FED\\u4EE3\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u6E10\\u8FDB\\u5347\\u7EA7\\u7B56\\u7565\\u7684\\u8FED\\u4EE3\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u6E10\\u8FDB\\u5347\\u7EA7\\u7B56\\u7565\\u7684\\u8FED\\u4EE3\"]}),`\n`,(0,e.jsxs)(l.h3,{id:\"fiber-\\u67B6\\u6784\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#fiber-\\u67B6\\u6784\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"Fiber \\u67B6\\u6784\"]}),`\n`,(0,e.jsxs)(l.h3,{id:\"\\u8C03\\u8BD5-react-\\u6E90\\u7801\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u8C03\\u8BD5-react-\\u6E90\\u7801\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u8C03\\u8BD5 React \\u6E90\\u7801\"]}),`\n`,(0,e.jsxs)(l.h2,{id:\"render-\\u9636\\u6BB5\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#render-\\u9636\\u6BB5\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"render \\u9636\\u6BB5\"]}),`\n`,(0,e.jsxs)(l.h2,{id:\"commit-\\u9636\\u6BB5\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#commit-\\u9636\\u6BB5\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"commit \\u9636\\u6BB5\"]}),`\n`,(0,e.jsxs)(l.h2,{id:\"schedule-\\u9636\\u6BB5\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#schedule-\\u9636\\u6BB5\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"schedule \\u9636\\u6BB5\"]}),`\n`,(0,e.jsxs)(l.h2,{id:\"\\u72B6\\u6001\\u66F4\\u65B0\\u6D41\\u7A0B\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#\\u72B6\\u6001\\u66F4\\u65B0\\u6D41\\u7A0B\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"\\u72B6\\u6001\\u66F4\\u65B0\\u6D41\\u7A0B\"]}),`\n`,(0,e.jsxs)(l.h2,{id:\"reconcile-\\u6D41\\u7A0B\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#reconcile-\\u6D41\\u7A0B\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"reconcile \\u6D41\\u7A0B\"]}),`\n`,(0,e.jsxs)(l.h2,{id:\"fc-\\u4E0E-hooks-\\u5B9E\\u73B0\",children:[(0,e.jsx)(l.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#fc-\\u4E0E-hooks-\\u5B9E\\u73B0\",children:(0,e.jsx)(l.span,{className:\"icon icon-link\"})}),\"FC \\u4E0E Hooks \\u5B9E\\u73B0\"]})]})}function g(n={}){let{wrapper:l}=n.components||{};return l?(0,e.jsx)(l,Object.assign({},n,{children:(0,e.jsx)(h,n)})):h(n)}var b=g;return f(k);})();\n;return Component;"
  },
  "_id": "blog/deep-in-react.mdx",
  "_raw": {
    "sourceFilePath": "blog/deep-in-react.mdx",
    "sourceFileName": "deep-in-react.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/deep-in-react"
  },
  "type": "Project",
  "path": "/blog/deep-in-react",
  "slug": "deep-in-react"
}